{"issue":{"title":"[CF 980] [Beta] Overlapping Icons w/Meta Icon ","body":" <p><a href=\"http://puu.sh/azmGS/741d470613.jpg\" rel=\"nofollow\">http://puu.sh/azmGS/741d470613.jpg</a></p><p>1) This seems to happen intermittently on random meta icons. Usually after it happens once, it fixes itself.<br>2) This issue seems to override even 'icon is shown' conditions.</p><p><a href=\"http://pastebin.com/B61466aS\" rel=\"nofollow\">http://pastebin.com/B61466aS</a> for my setup if necessary.</p> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/Jalopyy\">Jalopyy</a> | Imported from CurseForge issue <a href=\"https://wow.curseforge.com/projects/tellmewhen/issues/980\">#980</a> | <a href=\"https://github.com/tmw-issue-import/dump/blob/master/html/980.html\">Raw</a>","closed":true,"closed_at":"2014-08-09T01:10:42Z","created_at":"2014-07-31T22:00:09Z","updated_at":"2014-08-09T01:10:42Z","labels":["defect","declined"]},"comments":[{"body":" <p>I'm not sure what I'm supposed to be looking at here, or even what icons are misbehaving. Be more specific.</p> <div class=\"project-issue-comment-body-modified\"> </div> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/Cybeloras\">Cybeloras</a>","created_at":"2014-08-02T00:26:43Z"},{"body":" <p><a href=\"http://puu.sh/aATQi/8a79d9dfe1.jpg\" rel=\"nofollow\">http://puu.sh/aATQi/8a79d9dfe1.jpg</a></p>\r\n<p>That icon, specifically. Group 8, Icon 1. The issue seems intermittent (I tried logging on now to retest and confirm which group/icon it was, but it isn't happening anymore). It's also happened with all icons in Group 2 and Group 3.</p> <div class=\"project-issue-comment-body-modified\"> </div> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/Jalopyy\">Jalopyy</a>","created_at":"2014-08-02T00:34:26Z"},{"body":" <p>It's got to be an issue with OmniCC - that is what you use for timers, right?</p>\r\n<p>Just the fact that there are two timers on a single icon means it can't possibly be TMW. Which of those two timer styles is the one that is supposed to be on that meta icon? The one underneath, right? My guess is that OmniCC didn't get your custom settings for that group soon enough for some reason.</p> <div class=\"project-issue-comment-body-modified\"> </div> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/Cybeloras\">Cybeloras</a>","created_at":"2014-08-02T00:54:38Z"},{"body":" <p>Can't be OmniCC because the inner timer is ElvUI - which is hinged to a completely different icon than the one with OmniCC's timer. One icon shows the debuff of CS is up (OmniCC), the other shows the spell cooldown (ElvUI). The spell cooldown one has a condition to not show if the debuff is up, yet the icon is showing somehow anyway.</p>\r\n<p>The issue has also happened with the icon I use to track the buff+ICD of my Thok's trinket, and has also happened a bit on my spell cooldown (Group 2) icons.</p> <div class=\"project-issue-comment-body-modified\"> <hr> <span class=\"e-infoLabel\">Edited</span><span> <abbr class=\"tip standard-date standard-datetime\" title=\"08 1 2014 20:04:25 (CDT) (UTC-5:00)\" data-epoch=\"1406941465\">Aug 1, 2014</abbr></span> </div> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/Jalopyy\">Jalopyy</a>","created_at":"2014-08-02T00:58:40Z"},{"body":" <p>That's not quite how meta icons work - they inherit the attributes from another icon. They don't make a copy of the icon and put it in the same position as the meta icon. So if there are two timers, then someone isn't getting the memo that their timer isn't supposed to be running. My bet's on ElvUI, then, since I'm guessing that at the moment, Colossus Smash really does have 1.2 seconds remaining on the debuff.</p>\r\n<p>I would love to test it myself, but the authors of ElvUI have decided to put their Warlords code behind a paywall (which is definitely against Blizzard's AddOn policy, but I don't care enough to pursue the matter). So I will just (unreasonably) suggest that you stop using ElvUI and see if the issue persists. Other than that, I can't do anything because I can't see ElvUI's code to see why its timers are not going away when they are supposed to. It might be related to the fix I had to put in when ElvUI decided that external addons shouldn't be able to use its timer texts, but again, I can't know without the code.</p>\r\n<blockquote><cite>Quote:</cite><p>1) Add-ons must be free of charge.\r\nAll add-ons must be distributed free of charge. Developers may not create \"premium\" versions of add-ons with additional for-pay features, charge money to download an add-on, charge for services related to the add-on, or otherwise require some form of monetary compensation to download or access an add-on.</p>\r\n<p>2) Add-on code must be completely visible.\r\nThe programming code of an add-on must in no way be hidden or obfuscated, and must be freely accessible to and viewable by the general public.</p>\r\n</blockquote><p><a href=\"http://us.battle.net/wow/en/forum/topic/1021053914\" rel=\"nofollow\">http://us.battle.net/wow/en/forum/topic/1021053914</a></p> <div class=\"project-issue-comment-body-modified\"> <hr> <span class=\"e-infoLabel\">Edited</span><span> <abbr class=\"tip standard-date standard-datetime\" title=\"08 1 2014 20:14:16 (CDT) (UTC-5:00)\" data-epoch=\"1406942056\">Aug 1, 2014</abbr></span> </div> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/Cybeloras\">Cybeloras</a>","created_at":"2014-08-02T01:09:37Z"},{"body":" <p>I put in a workaround to the existing workaround in gcf41c78 that should hopefully fix this.</p>\r\n<p>It would be nice if none of these workarounds were needed in the first place. Why did ElvUI ever abandon the tried-and-true way that it used to do its cooldown timers - the way that OmniCC and all the other cooldown timer addons do it? Stupid. Just stupid.</p> <div class=\"project-issue-comment-body-modified\"> </div> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/Cybeloras\">Cybeloras</a>","created_at":"2014-08-02T01:23:47Z"},{"body":" <p>If you want to develop more targeted workaround (or whatever is necessary), I can upload you the latest version of the ElvUI beta.</p> <div class=\"project-issue-comment-body-modified\"> </div> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/Jalopyy\">Jalopyy</a>","created_at":"2014-08-02T01:34:01Z"},{"body":" <p>Yeah, that would be helpful. Thanks!</p> <div class=\"project-issue-comment-body-modified\"> </div> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/Cybeloras\">Cybeloras</a>","created_at":"2014-08-02T01:35:03Z"},{"body":" <p>Nixed because PM'd</p>\r\n<p>Feel free to delete or manually edit out the link when you get this.</p> <div class=\"project-issue-comment-body-modified\"> <hr> <span class=\"e-infoLabel\">Edited</span><span> <abbr class=\"tip standard-date standard-datetime\" title=\"08 1 2014 20:56:51 (CDT) (UTC-5:00)\" data-epoch=\"1406944611\">Aug 1, 2014</abbr></span> </div> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/Jalopyy\">Jalopyy</a>","created_at":"2014-08-02T01:42:13Z"},{"body":" <p>Thanks. It looks like even ElvUI's code doesn't include anything to handle stopping a timer once they become disabled on a frame. So that's cute. It also isn't updated to the changed API for cooldown sweeps in warlords anyway.</p>\r\n<p>I guess the workarounds will stay!</p> <div class=\"project-issue-comment-body-modified\"> </div> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/Cybeloras\">Cybeloras</a>","created_at":"2014-08-02T02:00:16Z"},{"body":" <p>Apparently ElvUI's code is so broken that the last fix I put in wouldn't have worked - there is no mechanism in ElvUI to stop a timer if self.noOCC is true - it just returns early instead of checking that the timer is stopped first. Cool!</p>\r\n<p>So I put in more workarounds for g66fdaee. This is fun!</p> <div class=\"project-issue-comment-body-modified\"> </div> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/Cybeloras\">Cybeloras</a>","created_at":"2014-08-02T02:08:51Z"},{"body":" <p>Just to say, this issue is still apparent in the latest build. PM me on the website or add me on US servers at Zulrann#1549 if you want up to date ElvUI beta builds to tinker with.</p> <div class=\"project-issue-comment-body-modified\"> </div> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/Jalopyy\">Jalopyy</a>","created_at":"2014-08-08T05:14:19Z"},{"body":" <p>At this point, I'm tempted to just go back to just not supporting ElvUI's timers at all. Code-wise, implementation is horrible at best, and usability wise, it's evidently broken.</p>\r\n<p>If you can come up with some steps that will reproduce this 100% of the time then I will look into getting it fixed, but until then, I don't want to waste hours upon hours trying to fix something that really isn't supported in the first place.</p> <div class=\"project-issue-comment-body-modified\"> </div> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/Cybeloras\">Cybeloras</a>","created_at":"2014-08-08T05:30:54Z"},{"body":" <p>It's a very minor inconvenience at best, and sooner or later it'll probably get fixed on Elv's end. If I find an exact reason, I'll tell you. Only happens to one icon, so I'll see what I can do for you.</p> <div class=\"project-issue-comment-body-modified\"> </div> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/Jalopyy\">Jalopyy</a>","created_at":"2014-08-08T08:11:42Z"}]}