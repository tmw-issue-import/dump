{"issue":{"title":"[CF 428] Checking target of current unit ","body":" <p>I am currently using a castwarning icon to alert me when enemies are casting cc.</p><p>^1^T^SInvertBars^B ^SBindText^S%u ^SType^Scast ^SUnit^Sarena1;~`arena2;~`arena3;~`arena4;~`arena5;~`target;~`focus ^SName^SPolymorph;~`Hex;~`Cyclone;~`Mind~`Control;~`Entangling~`Roots ^SEvents^T ^SOnShow^T ^SDuration^N0.5 ^SPeriod^N0.5 ^t^SOnStart^T ^SSound^SInterface\\AddOns\\Powersounds\\suspense1.mp3 ^t^t^SShowCBar^B ^SEnabled^B ^SShowTimerText^B ^t^N48301^S~`~| ^Sicon^^</p><p>I would also like to know whether the unit that's casting the spell is targeting me. If I understand the problem correctly I'd have to have something akin to %u's target and then check whether that unit's name was mine in a condition. I am aware that such a functionality would not be able to tell when a focusmodifier is used, still I think it could be highly useful.</p> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/AmeroGer\">AmeroGer</a> | Imported from CurseForge issue <a href=\"https://wow.curseforge.com/projects/tellmewhen/issues/428\">#428</a> | <a href=\"https://github.com/tmw-issue-import/dump/blob/master/html/428.html\">Raw</a>","closed":true,"closed_at":"2012-02-01T23:42:06Z","created_at":"2012-01-26T18:47:36Z","updated_at":"2012-02-01T23:42:06Z","labels":["enhancement","resolved"]},"comments":[{"body":" <p>Just implemented this, but I still have a little work to do before I can upload it.</p>\r\n<p>You should be able to use a Unit is Unit condition, setting one unit to \"%u-target\" and the other to \"player\"</p> <div class=\"project-issue-comment-body-modified\"> </div> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/Cybeloras\">Cybeloras</a>","created_at":"2012-01-26T23:48:46Z"},{"body":" <p>r426 is up. Don't know what version to call it yet, but this change is in it.</p> <div class=\"project-issue-comment-body-modified\"> </div> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/Cybeloras\">Cybeloras</a>","created_at":"2012-01-27T05:36:58Z"},{"body":" <p><cite>@<a href=\"https://github.com/tmw-issue-import/TellMeWhen/issues?q=%5BCF%20428%5D+in%3Atitle\" rel=\"nofollow\">Cybeloras</a>: <a href=\"https://github.com/tmw-issue-import/TellMeWhen/issues?q=%5BCF%20428%5D+in%3Atitle\" rel=\"nofollow\">Go</a></cite></p>\r\n<p>Got this with latest version:</p>\r\n<p>Date: 2012-01-28 00:21:03\r\nID: 1\r\nError occured in: Global\r\nCount: 1\r\nMessage: TellMeWhen: Group: 2, Icon: 27: [string \"TellMeWhen_Group2_Icon27 Condition\"] line 5: attempt to call global 'GetPrimaryTalentTree' (a nil value)</p> <div class=\"project-issue-comment-body-modified\"> </div> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/AmeroGer\">AmeroGer</a>","created_at":"2012-01-27T23:22:09Z"},{"body":" <ul><li>Bug Fixes:\r\n<ul><li>(r427) (Condition): attempt to call global 'GetPrimaryTalentTree' (a nil value)</li></ul></li></ul> <div class=\"project-issue-comment-body-modified\"> </div> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/Cybeloras\">Cybeloras</a>","created_at":"2012-01-27T23:25:42Z"},{"body":" <p><cite>@<a href=\"https://github.com/tmw-issue-import/TellMeWhen/issues?q=%5BCF%20428%5D+in%3Atitle\" rel=\"nofollow\">Cybeloras</a>: <a href=\"https://github.com/tmw-issue-import/TellMeWhen/issues?q=%5BCF%20428%5D+in%3Atitle\" rel=\"nofollow\">Go</a></cite></p>\r\n<p>More errors (in case you aren't getting all of these yourself):</p>\r\n<p>Date: 2012-01-28 03:08:12\r\nID: 1\r\nError occured in: Global\r\nCount: 1\r\nMessage: TellMeWhen: Group: 10, Icon: 62: [string \"TellMeWhen_Group10_Icon62 Condition\"] line 6: attempt to call global 'IsResting' (a nil value)</p>\r\n<p>Date: 2012-01-28 03:08:13\r\nID: 2\r\nError occured in: Global\r\nCount: 1\r\nMessage: TellMeWhen: Group: 10, Icon: 73: ..\\AddOns\\TellMeWhen\\conditions.lua line 447: attempt to compare nil with number</p>\r\n<p>Date: 2012-01-28 03:08:13\r\nID: 3\r\nError occured in: Global\r\nCount: 2\r\nMessage: ..\\AddOns\\TellMeWhen\\conditions.lua line 447: attempt to compare nil with number</p>\r\n<p>Date: 2012-01-28 03:08:13\r\nID: 4\r\nError occured in: Global\r\nCount: 1\r\nMessage: [string \"TellMeWhen_Group10_Icon62 Condition\"] line 6: attempt to call global 'IsResting' (a nil value)</p> <div class=\"project-issue-comment-body-modified\"> </div> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/AmeroGer\">AmeroGer</a>","created_at":"2012-01-28T02:09:51Z"},{"body":" <p>I basically rewrote half of the entire conditions feature, and I haven't gotten around to testing all of them. Posting these is very helpful.</p> <div class=\"project-issue-comment-body-modified\"> </div> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/Cybeloras\">Cybeloras</a>","created_at":"2012-01-28T02:14:09Z"},{"body":" <p>Those should be fixed now.</p> <div class=\"project-issue-comment-body-modified\"> </div> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/Cybeloras\">Cybeloras</a>","created_at":"2012-01-28T02:21:17Z"},{"body":" <p>Going out for a bit... apologies if you encounter any more bugs while I am away.</p> <div class=\"project-issue-comment-body-modified\"> </div> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/Cybeloras\">Cybeloras</a>","created_at":"2012-01-28T02:29:55Z"}]}