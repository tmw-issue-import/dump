{"issue":{"title":"[CF 128] Problem copying groups ","body":" <p>What steps will reproduce the problem?<br>1. Create a set up groups with one character<br>2. Create a group on another character<br>3. Try to copy settings from first character</p><p>What is the expected output? What do you see instead?<br>Whenever I try to copy settings/icons from one character to another , it will only expand on the same number of groups as the current character. Say if you have 5 groups with your main, and only 2 with your alt, when trying to copy from your main to your alt only the first 2 groups will expand, the rest won't.</p><p>What version of TellMeWhen are you using? (\"The latest\" is not a version)<br>TellMeWhen 4.0.0 beta2</p><p>Do you have an error log of what happened?<br>No</p><p>Please provide any additional information below.</p> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/Beruchan\">Beruchan</a> | Imported from CurseForge issue <a href=\"https://wow.curseforge.com/projects/tellmewhen/issues/128\">#128</a> | <a href=\"https://github.com/tmw-issue-import/dump/blob/master/html/128.html\">Raw</a>","closed":true,"closed_at":"2011-03-01T05:58:46Z","created_at":"2011-02-27T21:41:04Z","updated_at":"2011-03-01T05:58:46Z","labels":["defect","resolved"]},"comments":[{"body":"<strong>Attachment Added:</strong><a href=\"https://media.forgecdn.net/attachments/76/158/TellMeWhen.lua\" target=\"_blank\"> TellMeWhen.lua</a><br> <div class=\"attachment-desc\"> <h4 class=\"attachment-title\">TellMeWhen.lua</h4> <p>&lt;p&gt;TellMeWhenSettings&lt;/p&gt;</p> </div> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/Beruchan\">Beruchan</a>","created_at":"2011-02-27T21:41:04Z"},{"body":" <p>When you copy a group, you are overwriting the group of the icon that you currently have the icon editor open for. If you wish to make a complete copy of your main's profile on your alt, you can open the main options (click the group/addon settings tab in the icon editor, or /tmw options, or the blizz interface options) and click on \"Profile\" in the side bar. You can copy the entire profile there. You could also just create the appropriate number of groups and copy them group by group, if you wish.</p> <div class=\"project-issue-comment-body-modified\"> </div> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/Cybeloras\">Cybeloras</a>","created_at":"2011-02-27T22:22:25Z"},{"body":" <p>Sure I understand you can still work it out, just make more groups and then you can copy any group you want. I just use more groups with some characters and others, and I didn't notice this behaivor in previous versions so I thought I'd point it out.</p> <div class=\"project-issue-comment-body-modified\"> </div> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/Beruchan\">Beruchan</a>","created_at":"2011-02-27T23:23:11Z"},{"body":" <p>The copying code has not changed at all since it was first put in (with the exception that copying the position/scale now includes the frame level of the group, and copying an entire group reloads the icon editor when it is complete)</p>\r\n<p>Or am I misunderstanding something here? What method are you using to copy with? Copying an entire profile? Or copying individual groups, group by group?</p> <div class=\"project-issue-comment-body-modified\"> <hr> <span class=\"e-infoLabel\">Edited</span><span> <abbr class=\"tip standard-date standard-datetime\" title=\"02 27 2011 17:40:52 (CST) (UTC-6:00)\" data-epoch=\"1298850052\">Feb 27, 2011</abbr></span> </div> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/Cybeloras\">Cybeloras</a>","created_at":"2011-02-27T23:40:26Z"},{"body":" <p>I'm talking about copying group by group, say I have one group in Character A and I want to copy an icon from Character B in group 5. I can't because when I go into copy group settings, the list of groups from Character B will only expand on the first group in the list while I only have one group in character A. If I create one more group in Character A then the second group from Character B will expand, and so on. Even if I delete the groups from character A the groups from Character B will still expand, it only happens if you initially have less groups in character A than B,</p>\r\n<p>So if I want to copy an icon from Character B in group 5, I first have to create at least five groups in Character A.</p>\r\n<p>Update: After thinking a bit about it, I remembered TMW already had a certain number of groups precreated when you created a new profile, but when I updated to the the beta I already had only a few groups on certain characters and more in others. So maybe that's why I didn't see this behaivor before.</p> <div class=\"project-issue-comment-body-modified\"> <hr> <span class=\"e-infoLabel\">Edited</span><span> <abbr class=\"tip standard-date standard-datetime\" title=\"02 27 2011 18:18:15 (CST) (UTC-6:00)\" data-epoch=\"1298852295\">Feb 27, 2011</abbr></span> </div> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/Beruchan\">Beruchan</a>","created_at":"2011-02-28T00:07:14Z"},{"body":" <p>Could you go ahead and attach your saved variables? (World of Warcraft/WTF/Account/&lt;Account Name&gt;/SavedVariables/TellMeWhen.lua) Also tell me what profiles are involved here if you have a lot. There is something strange going on here with a discrepancy between the number of groups (just a setting with a number) and the number of group data tables.</p>\r\n<p>Thank you for your responses, you already helped me notice a bug that was causing more groups than actually exist to be displayed in the copy menu.\r\nAnd also, are you saying that some groups were deleted when you upgraded to the beta?</p>\r\n<p>Right now I have a profile with only 1 group in it, and I am able to see all 8 groups of my shaman, and all 9 groups of my hunter.</p>\r\n<p>EDIT: Just noticed another small bug, and it made me think to ask you, do you have Lua errors on? Either the blizzard error catcher (Interface&gt;Help&gt;Display Lua Errors) or an addon like Swatter or BugSack. If not, turn the Blizzard error catcher on and let me know if anything pops up when you are browsing through the copy menu.</p> <div class=\"project-issue-comment-body-modified\"> <hr> <span class=\"e-infoLabel\">Edited</span><span> <abbr class=\"tip standard-date standard-datetime\" title=\"02 27 2011 20:33:07 (CST) (UTC-6:00)\" data-epoch=\"1298860387\">Feb 27, 2011</abbr></span> </div> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/Cybeloras\">Cybeloras</a>","created_at":"2011-02-28T02:26:12Z"},{"body":" <p>Ok, atteched the lua file. The character of Debria is a mage where I had like several groups setup, and the character Shellys is a rogue who originally had few groups where I first noticed I couldn't copy settings from certain groups from my mage.</p>\r\n<p>What I meant with having less groups is that I had prevously deleted any unused groups with each character, no update deleted the groups.`</p>\r\n<p>I didn't see any errors when it happened but I'll check.</p>\r\n<p>Update: Yeah after I eneable show lua errors I did get an error</p>\r\n<p>Message: Interface\\AddOns\\TellMeWhen\\TellMeWhen_options.lua:1853: attempt to index field '?' (a nil value)\r\nTime: 02/27/11 21:33:54\r\nCount: 7\r\nStack: Interface\\AddOns\\TellMeWhen\\TellMeWhen_options.lua:1853: in function `initFunction'\r\nInterface\\FrameXML\\UIDropDownMenu.lua:69: in function `UIDropDownMenu_Initialize'\r\nInterface\\FrameXML\\UIDropDownMenu.lua:790: in function `ToggleDropDownMenu'\r\n[string \"*:OnEnter\"]:5: in function &lt;[string \"*:OnEnter\"]:1&gt;</p>\r\n<p>Locals: self = TellMeWhen_IconEditorMainCopy { 0 = &lt;userdata&gt; initialize = &lt;function&gt; defined @Interface\\AddOns\\TellMeWhen\\TellMeWhen_options.lua:1731 noResize = 1\r\n}\r\nself = 3\r\ngroupID = 2\r\niconID = 2\r\nicon = TellMeWhen_Group2_Icon2 { 0 = &lt;userdata&gt; ShowTimer = false PresUsableAlpha = 1 InvertBars = false DurationMaxEnabled = false PBarOffs = 0 DurationMin = 0 OnlyEquipped = false Type = \"cooldown\" ShowPBar = false AbsentUnUsableAlpha = 0 CooldownShowWhen = \"usable\" Alpha = 1 Width = 32 <u>LBF_Level = &lt;table&gt; { } ConditionPresent = false Conditions = &lt;table&gt; { } NameNameArray = &lt;table&gt; { } ManaCheck = false RangeCheck = false Duration = false ShowCBar = false NameName = \"Tricks of the Trade\" FakeHidden = false countText = TellMeWhen_Group2_Icon2Count { } cooldownbar = TellMeWhen_Group2_Icon2CooldownBar { } UnAlpha = 1 SetFrameLevel = &lt;function&gt; defined =[C]:-1 </u>LBF_NormalSkin = &lt;table&gt; { } texture = TellMeWhen_Group2_Icon2Icon { } Enabled = true DurationMinEnabled = false CBarOffs = 0 <u>LBF_Normal = &lt;unnamed&gt; { } UpdateTimer = 0.05 CooldownType = \"spell\" NameArray = &lt;table&gt; { } NameFirst = \"Tricks of the Trade\" powerbar = TellMeWhen_Group2_Icon2PowerBar { } ShowTimerText = true Name = \"Tricks of the Trade\" DurationMax = 50 Height = 32 FakeAlpha = 1 cooldown = TellMeWhen_Group2_Icon2Cooldown { } SetNormalTexture = &lt;function&gt; defined =[C]:-1\r\n}\r\ninfo = &lt;table&gt; { disabled = 1 isTitle = true notCheckable = true text = \"\"\r\n}\r\ng = 8\r\nn = \"Debria - Ragnaros\"\r\n(for generator) = &lt;function&gt; defined =[C]:-1\r\n(for state) = &lt;table&gt; { 1 = &lt;table&gt; { } 2 = &lt;table&gt; { } 3 = &lt;table&gt; { } 4 = &lt;table&gt; { } 5 = &lt;table&gt; { } 6 = &lt;table&gt; { } 7 = &lt;table&gt; { }\r\n}\r\n(for control) = 1\r\ni = 1\r\nd = &lt;table&gt; { Enabled = true Type = \"meta\" Icons = &lt;table&gt; { }\r\n}\r\nnsettings = 3\r\ntex = nil\r\n(*temporary) = nil\r\n(*temporary) = 1\r\n(*temporary) = nil\r\n(*temporary) = nil\r\n(*temporary) = nil\r\n(*temporary) = &lt;table&gt; { 1 = \"TellMeWhen_Group6_Icon5\" 2 = \"TellMeWhen_Group6_Icon6\"\r\n}\r\n(*temporary) = \"table\"\r\n(*temporary) = DropDownList3Button4ColorSwatch { 0 = &lt;userdata&gt;\r\n}\r\n(*temporary) = \"attempt to index field '?' (a nil value)\"\r\nTMW = &lt;unnamed&gt; { TalentUpdate = &lt;function&gt; defined @Interface\\AddOns\\TellMeWhen\\TellMeWhen.lua:972 SetDefaultModuleLibraries = &lt;function&gt; defined @Interface\\AddOns\\Ace3\\AceAddon-3.0\\AceAddon-3.0.lua:383 ScheduleIconUpdate = &lt;function&gt; defined @Interface\\AddOns\\TellMeWhen\\TellMeWhen.lua:3023 2 = TellMeWhen_Group2 { } EnableModule = &lt;function&gt; defined @Interface\\AddOns\\Ace3\\AceAddon-3.0\\AceAddon-3.0.lua:348 modules = &lt;table&gt; { } CancelTimer = &lt;function&gt; defined @Interface\\AddOns\\Ace3\\AceTimer-3.0\\AceTimer-3.0.lua:311 IterateEmbeds = &lt;function&gt; defined @Interface\\AddOns\\Ace3\\AceAddon-3.0\\AceAddon-3.0.lua:458 ZoneTypes = &lt;table&gt; { } Warned = true AddedToBlizz = true OptionsTable = &lt;table&gt; { } OnProfile = &lt;function&gt; defined @Interface\\AddOns\\TellMeWhen\\TellMeWhen.lua:644 Printf = &lt;function&gt; defined @Interface\\AddOns\\Ace3\\AceConsole-3.0\\AceConsole-3.0.lua:69 InitializedOptions = true SetDefaultModulePrototype = &lt;function&gt; defined @Interface\\AddOns\\Ace3\\AceAddon-3.0\\AceAddon-3.0.lua:425 Warns = &lt;table&gt; { } ASDT = &lt;table&gt; { } DS = &lt;table&gt; { } defaultModuleState = true InitOptions = &lt;function&gt; defined @Interface\\AddOns\\TellMeWhen\\TellMeWhen_options.lua:86 IsEnabled = &lt;function&gt; defined @Interface\\AddOns\\Ace3\\AceAddon-3.0\\AceAddon-3.0.lua:467 SlashCommand = &lt;function&gt; defined @Interface\\AddOns\\TellMeWhen\\TellMeWhen_options.lua:793</u></p> <div class=\"project-issue-comment-body-modified\"> <hr> <span class=\"e-infoLabel\">Edited</span><span> <abbr class=\"tip standard-date standard-datetime\" title=\"02 27 2011 21:34:02 (CST) (UTC-6:00)\" data-epoch=\"1298864042\">Feb 27, 2011</abbr></span> </div> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/Beruchan\">Beruchan</a>","created_at":"2011-02-28T02:51:30Z"},{"body":" <p>\"Just noticed another small bug\" -me</p>\r\n<p>Yeah, this small bug is the one that you are experiencing. If you want to fix it without waiting for me, just go to that line and change</p>\r\n<div><div><div>\n\n```\nlocal ic = TMW[g][i]\r\n\n```\n</div></div>\r\n</div><p>to</p>\r\n<div><div><div>\n\n```\n-- local ic = TMW[g][i]\r\n\n```\n</div></div>\r\n</div><p>Not a real fix (it will make the icons displayed in the menu a little less accurate) but a real fix is coming</p> <div class=\"project-issue-comment-body-modified\"> <hr> <span class=\"e-infoLabel\">Edited</span><span> <abbr class=\"tip standard-date standard-datetime\" title=\"02 27 2011 23:44:00 (CST) (UTC-6:00)\" data-epoch=\"1298871840\">Feb 27, 2011</abbr></span> </div> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/Cybeloras\">Cybeloras</a>","created_at":"2011-02-28T05:35:02Z"}]}