{"issue":{"title":"[CF 608] Unit Conditions insufficient ","body":" <p>^1^T^SUnit^Sarena1;~`arena2;~`arena3;~`arena4;~`arena5;~`target;~`focus ^SType^Scast ^SInvertCBar^B ^SName^SPolymorph;~`Hex;~`Cyclone;~`Mind~`Control;~`Entangling~`Roots;~`Mana~`Burn;~`Repentance;~`Scare~`Beast;~`Hibernate ^SEvents^T ^SOnStart^T ^SSound^SInterface\\AddOns\\Powersounds\\suspense1.mp3 ^SSoundData^SInterface\\AddOns\\Powersounds\\suspense1.mp3 ^t^SOnShow^T ^SDuration^N0.5 ^SPeriod^N0.5 ^t^t^SSettingsPerView^T ^Sicon^T ^STexts^T ^N1^S[Unit:Name] ^t^t^Sbar^T ^STextLayout^S ^t^t^SShowCBar^B ^SOverlay_BarGCD^B ^SEnabled^B ^SShowTimerText^B ^SInvertPBar^B ^t^N60338^S~`~| ^Sicon^^</p><p>This is the icon I'm currently working with. I want it to only show when I'm the target of the unit currently being checked. Unit is Unit is insufficient since I don't want to know if Arena1 is Player. I want to know if Arena1Target is Player. So it'd have to be UnitTarget is Unit.</p> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/AmeroGer\">AmeroGer</a> | Imported from CurseForge issue <a href=\"https://wow.curseforge.com/projects/tellmewhen/issues/608\">#608</a> | <a href=\"https://github.com/tmw-issue-import/dump/blob/master/html/608.html\">Raw</a>","closed":true,"closed_at":"2012-09-13T20:16:31Z","created_at":"2012-09-11T20:48:00Z","updated_at":"2012-09-13T20:16:31Z","labels":["resolved"]},"comments":[{"body":" <p>Hmm. I suppose we did lose the ability to do stuff like <code>%u-target</code> that could be done with the old system.</p>\r\n<p>Now, I'm just not sure how to bring this back configuration-wise. Coding this would be extremely easy, but I don't know how to fit it into the current configuration.</p>\r\n<p>Any ideas on how I could fit it in there? MS Paint mockups would be good if you think of anything.</p> <div class=\"project-issue-comment-body-modified\"> </div> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/Cybeloras\">Cybeloras</a>","created_at":"2012-09-12T00:43:37Z"},{"body":" <p>In the mean time, in r602, I added Lua conditions to the allowed unit conditions.</p>\r\n<p>This should work:</p>\r\n<div><div><div>\n\n```\nUnitIsUnit(\"player\", c.Unit .. \"-target\")\r\n\n```\n</div></div>\r\n</div> <div class=\"project-issue-comment-body-modified\"> </div> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/Cybeloras\">Cybeloras</a>","created_at":"2012-09-12T01:43:10Z"},{"body":" <p>You want it to only show when arena1-3 is targetting you? First unit should be: arena1target;arena2target;arena3target\r\nand the second unit should be you, so \"player\".</p> <div class=\"project-issue-comment-body-modified\"> </div> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/daniel1992\">daniel1992</a>","created_at":"2012-09-12T13:53:02Z"},{"body":" <p>@Cybeloras\r\nHow about this: <a href=\"http://i.imgur.com/Wybi8.jpg\" rel=\"nofollow\">http://i.imgur.com/Wybi8.jpg</a><br>\r\nAnd then let the dropdown box toggle between Icon Unit and Icon Unit's Target?</p>\r\n<p>@daniel1992\r\nI'm also checking for whether Arena1 etc is casting CC. If I did it your way I'd be able to check if I was the target of Arena1 but I'd also be checking if the <em>target</em> of Arena1 was casting CC, not Arena1 itself. The resulting icon would be showing if I was the target of Arena1 and casting CC myself.</p> <div class=\"project-issue-comment-body-modified\"> </div> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/AmeroGer\">AmeroGer</a>","created_at":"2012-09-12T15:07:33Z"},{"body":" <p>Though I'm not really seeing how going back to the old way and simply adding Icon Unit and Icon Unit's Target to the suggestion box of regular conditions would be significantly less user friendly than the current arrangement.</p> <div class=\"project-issue-comment-body-modified\"> </div> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/AmeroGer\">AmeroGer</a>","created_at":"2012-09-12T18:18:43Z"},{"body":" <p>Well, the reason I did it the way I did is because I didn't want users creating a unit condition for <code>raid1-25</code> to track the player's health - a condition like that should be an icon condition, since it doesn't depend on the units being checked.</p>\r\n<p>What I think I will do, based on your suggestion, is just use <code>iconunit</code> as a pseudo-unitID for unit conditions, and branch the suggestion list for units when configuring unit conditions so that it will list only <code>iconunit</code>, and probably <code>iconunittarget</code> (although, technically, regular unitIDs like <code>player</code> and <code>target</code> will still be valid.)</p>\r\n<p>I might use just <code>unit</code> instead of <code>iconunit</code> since <code>iconunit</code> is a little bit verbose.</p> <div class=\"project-issue-comment-body-modified\"> </div> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/Cybeloras\">Cybeloras</a>","created_at":"2012-09-12T22:17:15Z"},{"body":" <p>r606 - let me know if everything works ok.</p> <div class=\"project-issue-comment-body-modified\"> </div> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/Cybeloras\">Cybeloras</a>","created_at":"2012-09-13T09:53:38Z"}]}