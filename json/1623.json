{"issue":{"title":"[CF 1623] \"Unit Condition Icon\" How to return unit refference for lua type condition? ","body":" <p>I have created&nbsp;\"Unit Condition Icon\" and set arena1-10 for objects. Inside \"Unit Conditions\" I have lua condition for each object and looking info how to get each unit there? I tried use&nbsp;thisobj.Unit ,&nbsp;thisobj.UnitSet and&nbsp;thisobj.UnitSet.translatedUnits[5] but it doesn't return me current unit which has been parsed. Using 8.5.5 maybe have bug as another guy here.</p>\r\n<p>&nbsp;</p>\r\n<p>I mean how to get \"unit\" alias?</p> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/cordankos\">cordankos</a> | Imported from CurseForge issue <a href=\"https://wow.curseforge.com/projects/tellmewhen/issues/1623\">#1623</a> | <a href=\"https://github.com/tmw-issue-import/dump/blob/master/html/1623.html\">Raw</a>","closed":true,"closed_at":"2018-12-24T23:01:08Z","created_at":"2018-12-01T23:34:07Z","updated_at":"2018-12-24T23:01:08Z","labels":["enhancement","question"]},"comments":[{"body":" <p>You can't do this, but you probably should be able to, so I'm going to add this.</p> <div class=\"project-issue-comment-body-modified\"> </div> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/Cybeloras\">Cybeloras</a>","created_at":"2018-12-02T03:43:27Z"},{"body":" <p><a href=\"https://wow.curseforge.com/projects/tellmewhen/files/2643292\" rel=\"nofollow\">https://wow.curseforge.com/projects/tellmewhen/files/2643292</a></p>\r\n<p>&nbsp;</p>\r\n<p>Use \"thisunit\" in your Lua, as in \"UnitHealth(thisunit) &gt; 100000\"</p> <div class=\"project-issue-comment-body-modified\"> </div> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/Cybeloras\">Cybeloras</a>","created_at":"2018-12-02T06:00:16Z"},{"body":" <div>\n\n```\nMessage: ...Ons\\TellMeWhen\\Components\\Core\\Conditions\\Config.lua:703: &lt;unnamed&gt;:SetPoint(): trying to anchor to itself\r\nTime: Sun Dec  2 18:30:36 2018\r\nCount: 1\r\nStack: ...Ons\\TellMeWhen\\Components\\Core\\Conditions\\Config.lua:703: &lt;unnamed&gt;:SetPoint(): trying to anchor to itself\r\n[C]: in function `SetPoint'\r\n...Ons\\TellMeWhen\\Components\\Core\\Conditions\\Config.lua:703: in function `AddRow'\r\n...omponents\\Core\\Conditions\\Categories\\Misc_config.lua:29: in function &lt;...omponents\\Core\\Conditions\\Categories\\Misc_config.lua:25&gt;\r\n(tail call): ?\r\n[C]: ?\r\n[string \"safecall Dispatcher[4]\"]:9: in function &lt;[string \"safecall Dispatcher[4]\"]:5&gt;\r\n(tail call): ?\r\nInterface\\AddOns\\TellMeWhen\\TellMeWhen.lua:795: in function `Fire'\r\n...Ons\\TellMeWhen\\Components\\Core\\Conditions\\Config.lua:696: in function &lt;...Ons\\TellMeWhen\\Components\\Core\\Conditions\\Config.lua:689&gt;\r\n(tail call): ?\r\n[C]: ?\r\n[string \"safecall Dispatcher[1]\"]:9: in function &lt;[string \"safecall Dispatcher[1]\"]:5&gt;\r\n(tail call): ?\r\n...ace\\AddOns\\TellMeWhen\\Options\\TellMeWhen_Options.lua:1130: in function `CScriptCall'\r\n...ace\\AddOns\\TellMeWhen\\Options\\TellMeWhen_Options.lua:1474: in function `RequestReload'\r\n...Ons\\TellMeWhen\\Components\\Core\\Conditions\\Config.lua:86: in function `LoadConfig'\r\n[string \"*:OnClick\"]:4: in function &lt;[string \"*:OnClick\"]:1&gt;\r\n\r\nLocals: &lt;none&gt;\n```\n</div>\r\n<p>&nbsp;Received one time this, never saw again when tried use \"thisunit\" for my own function</p> <div class=\"project-issue-comment-body-modified\"> </div> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/cordankos\">cordankos</a>","created_at":"2018-12-02T15:33:36Z"},{"body":" <p>Saw this issue again, now it was twice :) Error debug absolutely same</p> <div class=\"project-issue-comment-body-modified\"> <hr> <span class=\"e-infoLabel\">Edited</span><span> <abbr class=\"tip standard-date standard-datetime\" title=\"12 6 2018 19:11:03 (CDT) (UTC-6:00)\" data-epoch=\"1544145063\">Dec 6, 2018</abbr></span> </div> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/cordankos\">cordankos</a>","created_at":"2018-12-07T01:10:40Z"},{"body":" <p>Can you determine a set of steps that will reproduce this? Including exact configurations of icons that you are trying to configure that will cause this.</p> <div class=\"project-issue-comment-body-modified\"> </div> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/Cybeloras\">Cybeloras</a>","created_at":"2018-12-09T03:08:34Z"},{"body":" <p>I found another bug which you can reproduce. Create Icon as \"Unit Condition Icon\", write units as: raid1-40 &gt; Go to \"Unit Condition\" &gt; Select TMW default conditions \"UnitIsUnit\" by clicking \"+\" and you will see one error.</p>\r\n<p>&nbsp;</p>\r\n<p>About bug which I was noticed above - I saw it only twice for few days and can't figure how to reprocude it but if I will see it again I will try save it and notice here.</p> <div class=\"project-issue-comment-body-modified\"> </div> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/cordankos\">cordankos</a>","created_at":"2018-12-10T01:31:35Z"},{"body":" <p>Also can you make first priority to check \"Conditions\" tab and then&nbsp;\"Unit Condition\"? Because in performance things way better first check general icon's conditions and then their unit's conditions.</p> <div class=\"project-issue-comment-body-modified\"> </div> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/cordankos\">cordankos</a>","created_at":"2018-12-11T13:44:29Z"},{"body":" <p>^1^T^SUnit^Starget ^SType^Sunitcondition ^SUnitConditions^T ^N1^T ^SType^SLUA ^SName^Sreturn~`GetUnitSpeed(unit)~`&gt;~`0~`--~`I~`~`know~`that~`here~`is~`should~`be~`\"thisunit\",~`but~`it~`querying~`for~`some~`reasons~`while~`\"Conditions\"~`for~`icon~`itself~`is~`not~`true~`and~`it~`giving~`lua~`error ^t^Sn^N1 ^t^SConditions^T ^N1^T ^SType^SLUA ^SName^Sreturn~`TELLMEWHEN_VERSIONNUMBER~`&gt;=~`89602~`--~`example ^t^Sn^N1 ^t^SEnabled^B ^SSettingsPerView^T ^Sicon^T ^STextLayout^Sicon1 ^STexts^T ^N1^S ^t^t^t^SStates^T ^N1^T ^t^N3^T ^t^N4^T ^t^t^t^N85602^S~`~| ^Sicon^^</p> <div class=\"project-issue-comment-body-modified\"> </div> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/cordankos\">cordankos</a>","created_at":"2018-12-11T13:50:11Z"},{"body":" <p>That is working as intended. The icon's conditions have no bearing on when nor how the unit conditions will update. These are two separate systems that work in isolation of one another. There are no plans to change this.</p>\r\n<p>&nbsp;</p>\r\n<p>Open a new issue if you manage to reproduce that first error (trying to anchor to itself) the other one (add Unit is Unit) will be fixed in the next version. Thanks!</p> <div class=\"project-issue-comment-body-modified\"> </div> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/Cybeloras\">Cybeloras</a>","created_at":"2018-12-24T23:01:03Z"}]}