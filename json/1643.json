{"issue":{"title":"[CF 1643] Script ran too long errors ever since 8.1 release ","body":" <p>I'm a very heavy user of tellmewhen, maybe somewhere around 220 groups, basically a custom pvp ui. It's broken after the patch though for me. I'll go and donate $50 right now for it being such a good addon that I've used for so long</p>\r\n<p>&nbsp;</p>\r\n<p>error #1:</p>\r\n<p>Message: [string \"safecall Dispatcher[1]\"]:9: script ran too long<br>Time: Sat Jan 5 15:04:36 2019<br>Count: 1<br>Stack: [string \"safecall Dispatcher[1]\"]:9: script ran too long<br>[string \"safecall Dispatcher[1]\"]:9: in function &lt;[string \"safecall Dispatcher[1]\"]:5&gt;<br>(tail call): ?<br>Interface\\AddOns\\TellMeWhen\\TellMeWhen.lua:2678: in function `UpdateNormally'<br>Interface\\AddOns\\TellMeWhen\\TellMeWhen.lua:2807: in function `Update'<br>Interface\\AddOns\\TellMeWhen\\TellMeWhen.lua:1156: in function `?'<br>...When\\Lib\\CallbackHandler-1.0\\CallbackHandler-1.0.lua:119: in function &lt;...When\\Lib\\CallbackHandler-1.0\\CallbackHandler-1.0.lua:119&gt;<br>[C]: ?<br>...When\\Lib\\CallbackHandler-1.0\\CallbackHandler-1.0.lua:29: in function &lt;...When\\Lib\\CallbackHandler-1.0\\CallbackHandler-1.0.lua:25&gt;<br>...When\\Lib\\CallbackHandler-1.0\\CallbackHandler-1.0.lua:64: in function `Fire'<br>...\\AddOns\\TellMeWhen\\Lib\\AceEvent-3.0\\AceEvent-3.0.lua:120: in function &lt;...\\AddOns\\TellMeWhen\\Lib\\AceEvent-3.0\\AceEvent-3.0.lua:119&gt;</p>\r\n<p>Locals: &lt;none&gt;</p>\r\n<p>&nbsp;</p>\r\n<p>&nbsp;</p>\r\n<p>error #2:</p>\r\n<p>Message: ...When\\Lib\\CallbackHandler-1.0\\CallbackHandler-1.0.lua:30: script ran too long<br>Time: Sat Jan 5 15:04:36 2019<br>Count: 1<br>Stack: ...When\\Lib\\CallbackHandler-1.0\\CallbackHandler-1.0.lua:30: script ran too long<br>...When\\Lib\\CallbackHandler-1.0\\CallbackHandler-1.0.lua:30: in function &lt;...When\\Lib\\CallbackHandler-1.0\\CallbackHandler-1.0.lua:25&gt;<br>...When\\Lib\\CallbackHandler-1.0\\CallbackHandler-1.0.lua:64: in function `Fire'<br>...\\AddOns\\TellMeWhen\\Lib\\AceEvent-3.0\\AceEvent-3.0.lua:120: in function &lt;...\\AddOns\\TellMeWhen\\Lib\\AceEvent-3.0\\AceEvent-3.0.lua:119&gt;</p>\r\n<p>Locals: handlers = &lt;table&gt; {<br>}<br>index = TMW {<br> 0 = &lt;userdata&gt;<br> OnGCD = &lt;function&gt; defined @Interface\\AddOns\\TellMeWhen\\TellMeWhen.lua:335<br> Vararg = &lt;function&gt; defined @Interface\\AddOns\\TellMeWhen\\TellMeWhen.lua:987<br> SlashCommand = &lt;function&gt; defined @Interface\\AddOns\\TellMeWhen\\TellMeWhen.lua:2936<br> modules = &lt;table&gt; {<br> }<br> CancelTimer = &lt;function&gt; defined @Interface\\AddOns\\TellMeWhen\\Lib\\AceTimer-3.0\\AceTimer-3.0.lua:147<br> EquivFullNameLookup = &lt;table&gt; {<br> }<br> GroupsToUpdate = &lt;table&gt; {<br> }<br> GetBaseUpgrades = &lt;function&gt; defined @Interface\\AddOns\\TellMeWhen\\TellMeWhen.lua:1521<br> GCDSpell = 53<br> DeserializeData = &lt;function&gt; defined @Interface\\AddOns\\TellMeWhen\\Options\\TellMeWhen_Options.lua:3815<br> get = &lt;function&gt; defined @Interface\\AddOns\\TellMeWhen\\Components\\Core\\Utils.lua:1305<br> InNLengthTable = &lt;function&gt; defined @Interface\\AddOns\\TellMeWhen\\Components\\Core\\Utils.lua:1089<br> Group_HasIconData = &lt;function&gt; defined @Interface\\AddOns\\TellMeWhen\\Options\\GroupConfig.lua:503<br> InIconSettings = &lt;function&gt; defined @Interface\\AddOns\\TellMeWhen\\TellMeWhen.lua:877<br> GetSpells = &lt;function&gt; defined @Interface\\AddOns\\TellMeWhen\\Components\\Core\\Spells\\Spells.lua:346<br> TestDogTagString = &lt;function&gt; defined @Interface\\AddOns\\TellMeWhen\\Components\\Core\\Common\\DogTags\\config.lua:462<br> IconDragger = &lt;table&gt; {<br> }<br> SetDefaultModulePrototype = &lt;function&gt; defined @Interface\\AddOns\\TellMeWhen\\Lib\\AceAddon-3.0\\AceAddon-3.0.lua:409<br> TryGetNPCName = &lt;function&gt; defined @Interface\\AddOns\\TellMeWhen\\Components\\Core\\Utils.lua:1490<br> Classes = &lt;table&gt; {<br> }<br> DS = &lt;table&gt; {<br> }<br> TT_Parse = &lt;function&gt; defined @Interface\\AddOns\\TellMeWhen\\Components\\Core\\Utils.lua:1274<br> SUG = &lt;table&gt; {<br> }<br> IsEnabled = &lt;function&gt; defined @Interface\\AddOns\\TellMeWhen\\Lib\\AceAddon-3.0\\AceAddon-3.0.lua:451<br> HELP = &lt;table&gt; {<br> }<br> GetIconMenuText = &lt;function&gt; defined @Interface\\AddOns\\TellMeWhen\\Options\\IconConfig.lua:160<br> SplitNames = &lt;function&gt; defined @Interface\\AddOns\\TellMeWhen\\Components\\Core\\Utils.lua:441<br> HSVToRGB = &lt;function&gt; defined @Interface\\AddOns\\TellMeWhen\\Components\\Core\\Utils.lua:620<br> GuessIconTexture = &lt;function&gt; defined @Interface\\AddOns\\TellMeWhen\\Options\\IconConfig.lua:183<br> Group_Add = &lt;function&gt; defined @Interface\\AddOns\\TellMeWhen\\Options\\GroupConfig.lua:433<br> Backupdb = &lt;table&gt; {<br> }<br> SerializeData = &lt;function&gt; defined @Interface\\AddOns\\TellMeWhen\\Options\\TellMeWhen_Options.lua:3742<br> UnregisterMessage = &lt;function&gt; defined @Interface\\AddOns\\TellMeWhen\\Lib\\CallbackHandler-1.0\\CallbackHandler-1.0.lua:153<br> Update = &lt;function&gt; defined @Interface\\AddOns\\TellMeWhen\\TellMeWhen.lua:2795<br> AnimateHeightChange = &lt;function&gt; defined @Interface\\AddOns\\TellMeWhen\\Components\\Core\\Utils.lua:1361<br> tContains = &lt;function&gt; defined @Interface\\AddOns\\TellMeWhen\\Components\\Core\\Utils.lua:703<br> DD = &lt;table&gt; {<br> }<br> toSeconds = &lt;function&gt; defined @Interface\\AddOns\\TellMeWhen\\Components\\Core\\Utils.lua:389<br> SendCommMessage = &lt;function&gt; defined @Interface\\AddOns\\TellMeWhen\\Lib\\AceComm-3.0\\AceComm-3.0.lua:87<br> Group_Defaults = &lt;table&gt; {<br> }<br> DROPDOWNMENU = &lt;table&gt; {<br> }<br> GetParser = &lt;function&gt; defined @Interface\\AddOns\\TellMeWhen\\Components\\Core\\Utils.lua:1455<br> GetDataOwner = &lt;function&gt; defined @Interface\\AddOns\\TellMeWhen\\TellMeWhen.lua:1338<br> SetEnabledState = &lt;function&gt; defined @Interface\\AddOns\\TellMeWhen\\Lib\\AceAddon-3.0\\AceAddon-3.0.lua:424<br> CopyWithMetatable = &lt;function&gt; defined @Interface\\AddOns\\TellMeWhen\\Components\\Core\\Utils.lua:819<br> ValidateType = &lt;fun</p> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/dannycarrywow\">dannycarrywow</a> | Imported from CurseForge issue <a href=\"https://wow.curseforge.com/projects/tellmewhen/issues/1643\">#1643</a> | <a href=\"https://github.com/tmw-issue-import/dump/blob/master/html/1643.html\">Raw</a>","closed":true,"closed_at":"2019-01-08T01:50:26Z","created_at":"2019-01-05T21:08:54Z","updated_at":"2019-01-08T01:50:26Z","labels":[]},"comments":[{"body":" <p>Thank you for the donation!</p>\r\n<p>&nbsp;</p>\r\n<p>Unfortunately, its really difficult to diagnose script ran too long errors. A few questions:</p>\r\n<ol>\r\n<li>What version of TMW are you using?</li>\r\n<li>Do they appear consistently at any particular time? E.g. when zoning into an arena, while in combat in a battleground, etc? Any patterns you can identify will be helpful.</li>\r\n</ol> <div class=\"project-issue-comment-body-modified\"> </div> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/Cybeloras\">Cybeloras</a>","created_at":"2019-01-06T01:24:49Z"},{"body":" <p>I had been using 8.5.7, and it always happened when I logged in and only half my groups would load and some icons wouldn't work. BUT I just tried the new alpha version&nbsp;8.5.7-7-g43f279f5-alpha (I hadn't tried any alpha version before), and my problems seem to be fixed. Everything is loading and no errors are being thrown now</p> <div class=\"project-issue-comment-body-modified\"> </div> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/dannycarrywow\">dannycarrywow</a>","created_at":"2019-01-06T18:05:38Z"},{"body":" <p>Great! I made a change in that version based on your report that I hoped would fix this. Glad to hear that it did.</p> <div class=\"project-issue-comment-body-modified\"> </div> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/Cybeloras\">Cybeloras</a>","created_at":"2019-01-07T02:55:36Z"}]}