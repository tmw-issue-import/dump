{"issue":{"title":"[CF 839] Some lua error ","body":" <p>3x TellMeWhen-r838\\Options\\TellMeWhen_Options-r838.lua:2125: attempt to get length of field \"history\" (a nil value)<br>TellMeWhen-r838\\Options\\TellMeWhen_Options-r838.lua:2125: in function \"Load\"<br>IconModules\\IconModule_IconEditorLoader\\module.lua:75: in function &lt;IconModules\\IconModule_IconEditorLoader\\module.lua:66&gt;<br>Components\\Core\\BaseClasses\\ObjectModule.lua:42: in function &lt;Components\\Core\\BaseClasses\\ObjectModule.lua:39&gt;<br>&lt;in C code&gt;<br>&lt;in C code&gt;</p><p>Locals:<br>Module = &lt;table&gt; {<br>ConfigPanels = &lt;table&gt; {}<br>implementationData = &lt;table&gt; {}<br>class = &lt;table&gt; {}<br>isTMWClassInstance = true<br>IconEvents = &lt;table&gt; {}<br>IsImplemented = true<br>className = \"IconModule_IconEditorLoader\"<br>IsEnabled = true<br>icon = TellMeWhen_Group1_Icon1 {}<br>IconSettingDefaults = &lt;table&gt; {}<br>}<br>icon = TellMeWhen_Group1_Icon1 {<br>0 = &lt;userdata&gt;<br>ShowTimer = false<br>ShowTimerTextnoOCC = false<br>LastUpdate = 0<br>class = &lt;table&gt; {}<br>Update_Method = \"auto\"<br>EventHandlersSet = &lt;table&gt; {}<br>ClockGCD = false<br>__realDuration = 0<br>SettingsPerView = &lt;table&gt; {}<br>Type = \"\"<br>normaltex = &lt;unnamed&gt; {}<br>ShowPBar = false<br>CBarOffs = 0<br>UnAlpha = 0<br>Alpha = 1<br>Overlay_BarGCD = false<br>lmbButtonData = &lt;table&gt; {}<br>PBarOffs = 0<br>Events = &lt;table&gt; {}<br>position = &lt;table&gt; {}<br>viewData = &lt;table&gt; {}<br>Conditions = &lt;table&gt; {}<br>UnitConditions = &lt;table&gt; {}<br>ShowTimerText = false<br>runEvents = 1<br>FakeHidden = false<br>CustomTex = \"\"<br>group = TellMeWhen_Group1 {}<br>ComponentsLookup = &lt;table&gt; {}<br>ShowCBar = false<br>isTMWClassInstance = true<br>ShowWhen = 2<br>Modules = &lt;table&gt; {}<br>ID = 1<br>InvertCBar = false<br>Enabled = false<br>attributes = &lt;table&gt; {}<br>NextUpdateTime = 0<br>anchorableChildren = &lt;table&gt; {}<br>Components = &lt;table&gt; {}<br>Name = \"\"<br>className = \"Icon\"<br>typeData = &lt;table&gt; {}<br>InvertPBar = false<br>}<br>button = \"RightButton\"<br>icons = &lt;table&gt; {<br>1 = TellMeWhen_Group1_Icon1 {}<br>}<br>TMW = TMW {<br>0 = &lt;userdata&gt;<br>OnGCD = &lt;func&gt; @..\\TellMeWhen.lua:431<br>Vararg = &lt;func&gt; @..\\TellMeWhen.lua:1159<br>AddedToBlizz = &lt;unnamed&gt; {}<br>SlashCommand = &lt;func&gt; @..\\TellMeWhen.lua:2798<br>modules = &lt;table&gt; {}<br>CancelTimer = &lt;func&gt; @Skada\\lib\\..\\AceTimer-3.0.lua:161<br>GroupsToUpdate = &lt;table&gt; {}<br>GetBaseUpgrades = &lt;func&gt; @..\\TellMeWhen.lua:1675<br>GCDSpell = 105361<br>DeserializeData = &lt;func&gt; @..\\Options\\TellMeWhen_Options.lua:3103<br>InNLengthTable = &lt;func&gt; @..\\TellMeWhen.lua:992<br>SpellTexturesBase = &lt;table&gt; {}<br>InIconSettings = &lt;func&gt; @..\\TellMeWhen.lua:1038<br>SetDefaultModulePrototype = &lt;func&gt; @AuctionLite\\Libs\\..\\AceAddon-3.0.lua:440<br>GetSpellDurations = &lt;func&gt; @..\\TellMeWhen.lua:549<br>Classes = &lt;table&gt; {}<br>DS = &lt;table&gt; {}<br>IsEnabled = &lt;func&gt; @AuctionLite\\Libs\\..\\AceAddon-3.0.lua:482<br>SetUIDropdownIconText = &lt;func&gt; @..\\Options\\TellMeWhen_Options.lua:308<br>ScheduleTimer = &lt;func&gt; @Skada\\lib\\..\\AceTimer-3.0.lua:108<br>Group_Add = &lt;func&gt; @..\\Options\\TellMeWhen_Options.lua:1316<br>Backupdb = &lt;table&gt; {}<br>SerializeData = &lt;func&gt; @..\\Options\\TellMeWhen_Options.lua:3089<br>UnregisterMessage = &lt;func&gt; @AuctionLite\\Libs\\..\\CallbackHandler-1.0.lua:180<br>Update = &lt;func&gt; @..\\TellMeWhen.lua:2541<br>AnimateHeightChange = &lt;func&gt; @..\\Options\\TellMeWhen_Options.lua:490<br>toSeconds = &lt;func&gt; @..\\TellMeWhen.lua:3073<br>SendCommMessage = &lt;func&gt; @BugSack\\Libs\\..\\AceComm-3.0.lua:87<br>Group_Defaults = &lt;table&gt; {}<br>GetParser = &lt;func&gt; @..\\Options\\TellMeWhen_Options.lua:524<br>UnregisterAllComm = &lt;func&gt; @AutoLootSpec\\libs\\..\\CallbackHandler-1.0.lua:202<br>SetEnabledState = &lt;func&gt; @AuctionLite\\Libs\\..\\AceAddon-3.0.lua:455<br>CopyWithMetatable = &lt;func&gt; @..\\TellMeWhen.lua:683<br>ValidateType = &lt;func&gt; @..\\TellMeWhen.lua:794<br>SpellTexturesMetaIndex = &lt;table&gt; {</p> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/lsjyzjl\">lsjyzjl</a> | Imported from CurseForge issue <a href=\"https://wow.curseforge.com/projects/tellmewhen/issues/839\">#839</a> | <a href=\"https://github.com/tmw-issue-import/dump/blob/master/html/839.html\">Raw</a>","closed":true,"closed_at":"2013-07-11T04:46:57Z","created_at":"2013-07-11T04:24:43Z","updated_at":"2013-07-11T04:46:57Z","labels":["defect","resolved"]},"comments":[{"body":" <p>1x TellMeWhen-r838\\Options\\TellMeWhen_Options-r838.lua:1670: attempt to index global \"TMWOptDB\" (a nil value)\r\nTellMeWhen-r838\\Options\\TellMeWhen_Options-r838.lua:1670: in function \"RawUpgrade\"\r\nTellMeWhen-r838\\Options\\TellMeWhen_Options-r838.lua:1735: in function \"InitializeDatabase\"\r\nTellMeWhen-r838\\Options\\TellMeWhen_Options-r838.lua:1413: in function &lt;TellMeWhen\\Options\\TellMeWhen_Options.lua:1392&gt;\r\n(tail call): ?\r\n&lt;in C code&gt;\r\n&lt;string&gt;:\"safecall Dispatcher[1]\":9: in function &lt;string&gt;:\"safecall Dispatcher[1]\":5\r\n(tail call): ?\r\nAuctionLite-v1.8.11\\Libs\\AceAddon-3.0\\AceAddon-3.0-12.lua:529: in function \"InitializeAddon\"\r\nAuctionLite-v1.8.11\\Libs\\AceAddon-3.0\\AceAddon-3.0-12.lua:644: in function &lt;AuctionLite\\Libs\\AceAddon-3.0\\AceAddon-3.0.lua:636&gt;\r\n&lt;in C code&gt;\r\n&lt;in C code&gt;\r\nTellMeWhen\\TellMeWhen-r838.lua:2866: in function \"LoadOptions\"\r\nTellMeWhen\\TellMeWhen-r838.lua:2559: in function \"Update\"\r\nTellMeWhen\\TellMeWhen-r838.lua:1660: in function \"?\"\r\nLibs\\CallbackHandler-1.0\\CallbackHandler-1.0-6.lua:146: in function &lt;Libs\\CallbackHandler-1.0\\CallbackHandler-1.0.lua:146&gt;\r\n&lt;string&gt;:\"safecall Dispatcher[1]\":4: in function &lt;string&gt;:\"safecall Dispatcher[1]\":4\r\n&lt;in C code&gt;\r\n&lt;string&gt;:\"safecall Dispatcher[1]\":13: in function \"?\"\r\nLibs\\CallbackHandler-1.0\\CallbackHandler-1.0-6.lua:91: in function \"Fire\"\r\nAuctionLite-v1.8.11\\Libs\\AceEvent-3.0\\AceEvent-3.0-3.lua:120: in function &lt;AuctionLite\\Libs\\AceEvent-3.0\\AceEvent-3.0.lua:119&gt; </p>\r\n<p>Locals:\r\nnil</p> <div class=\"project-issue-comment-body-modified\"> </div> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/lsjyzjl\">lsjyzjl</a>","created_at":"2013-07-11T04:25:03Z"},{"body":" <p>Someone updated to r838 and right click the icon will get these lua errors.</p> <div class=\"project-issue-comment-body-modified\"> <hr> <span class=\"e-infoLabel\">Edited</span><span> <abbr class=\"tip standard-date standard-datetime\" title=\"07 10 2013 23:34:34 (CST) (UTC-5:00)\" data-epoch=\"1373517274\">Jul 10, 2013</abbr></span> </div> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/lsjyzjl\">lsjyzjl</a>","created_at":"2013-07-11T04:30:37Z"},{"body":" <p>Whoops. Try r839 (I like it how the addon revision count has caught up with the number of tickets).</p> <div class=\"project-issue-comment-body-modified\"> </div> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/Cybeloras\">Cybeloras</a>","created_at":"2013-07-11T04:42:37Z"}]}