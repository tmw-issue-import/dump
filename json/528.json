{"issue":{"title":"[CF 528] I've built this condition icon: ","body":" <p>I've built this condition icon:</p>\r\n<p>^1^T^SType^Sconditionicon ^SConditions^T ^N1^T ^SType^SBUFFDUR ^SChecked^B ^SUnit^Splayer;`party1-4 ^SName^SBlessing`of`Kings ^t^N2^T ^SType^SBUFFDUR ^SChecked^B ^SUnit^Splayer;`party1-4 ^SName^SBlessing`of`Might ^t^N3^T ^SType^SINSTANCE ^SOperator^S|= ^SLevel^N1 ^SPrtsBefore^N1 ^t^N4^T ^SType^SINSTANCE ^SPrtsAfter^N1 ^SOperator^S|= ^SLevel^N2 ^t^Sn^N4 ^t^SSettingsPerView^T ^Sbar^T ^STextLayout^Sbar1 ^t^Sicon^T ^STextLayout^Sicon1 ^t^t^SCustomTex^SBlessing`of`Kings ^SEnabled^B ^t^N60015^S`| ^Sicon^^</p>\r\n<p>It's basically supposed to tell me when I haven't buffed Kings or Might. And it's still very basic. I first set out to build an icon with the same functionality using a Buff/Debuff icon, but I ran into trouble. Not able to pinpoint the issue I created a condition icon instead and it's still not working. However it's beginning to dawn on me that the icon isn't updating properly on aura gains/fades. The icon assumes the correct state after opening and closing TMW, but remains unchanged after buffing or clicking off Kings.</p> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/Cybeloras\">Cybeloras</a> | Imported from CurseForge issue <a href=\"https://wow.curseforge.com/projects/tellmewhen/issues/528\">#528</a> | <a href=\"https://github.com/tmw-issue-import/dump/blob/master/html/528.html\">Raw</a>","closed":true,"closed_at":"2012-08-15T23:14:54Z","created_at":"2012-08-15T06:50:14Z","updated_at":"2012-08-23T00:52:34Z","labels":["defect","resolved"]},"comments":[{"body":" <p>In all of the time that I have worked on TMW, this is by far the strangest bug I have seen. I honestly don't even know what I did to fix it, but it seems to be working now.</p> <div class=\"project-issue-comment-body-modified\"> </div> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/Cybeloras\">Cybeloras</a>","created_at":"2012-08-15T23:13:44Z"},{"body":" <p>For future reference: see the r540 commit message. I think it might have had something to do with the EOL format in Conditions.lua, but again, I really don't know.</p> <div class=\"project-issue-comment-body-modified\"> </div> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/Cybeloras\">Cybeloras</a>","created_at":"2012-08-15T23:14:47Z"},{"body":" <p>I recently went back on my pally and reenabled this icon. Still not working for me. (r544)</p> <div class=\"project-issue-comment-body-modified\"> <hr> <span class=\"e-infoLabel\">Edited</span><span> <abbr class=\"tip standard-date standard-datetime\" title=\"08 22 2012 06:33:54 (CST) (UTC-5:00)\" data-epoch=\"1345635234\">Aug 22, 2012</abbr></span> </div> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/AmeroGer\">AmeroGer</a>","created_at":"2012-08-22T11:33:34Z"},{"body":" <p>Shit. Now I'm really confused.</p> <div class=\"project-issue-comment-body-modified\"> </div> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/Cybeloras\">Cybeloras</a>","created_at":"2012-08-22T11:35:43Z"},{"body":" <p>I should note that \"player; party1-4\" is an invalid unit for conditions. Conditions can only check one unit, and if multiple are input, they will only check the first (\"player\")</p> <div class=\"project-issue-comment-body-modified\"> <hr> <span class=\"e-infoLabel\">Edited</span><span> <abbr class=\"tip standard-date standard-datetime\" title=\"08 22 2012 06:52:49 (CST) (UTC-5:00)\" data-epoch=\"1345636369\">Aug 22, 2012</abbr></span> </div> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/Cybeloras\">Cybeloras</a>","created_at":"2012-08-22T11:49:37Z"},{"body":" <p>Yeah, definitely seems to be functioning extremely strangely. For example, if i enclose those last two conditions in an extra set of parentheses, it stops working.</p>\r\n<p>I'm still almost 99% sure it has to do with the way that conditions are compiled, but again, I still haven't got the slightest clue why.</p> <div class=\"project-issue-comment-body-modified\"> </div> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/Cybeloras\">Cybeloras</a>","created_at":"2012-08-22T11:57:44Z"},{"body":" <p>Oh. I figured it out for real this time. Was a result of me changing the way that events are listened to for updates, combined with the fact that the unit here is invalid.</p> <div class=\"project-issue-comment-body-modified\"> </div> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/Cybeloras\">Cybeloras</a>","created_at":"2012-08-23T00:52:34Z"}]}