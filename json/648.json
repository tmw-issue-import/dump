{"issue":{"title":"[CF 648] Tracking Frenzied Regeneration ","body":" <p>Hi, at the beginning i want to thank you for the good job for this addon. I tried to track the Health i would gain from FR, but nothing helps. I found an old ticket but there was noch answer to my questions. I hope you can help me with tracking the amount of healing FR will give me at my current amount of rage and with tracking the expected amount of healing from FR if i have 60 rage.</p> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/Nergad\">Nergad</a> | Imported from CurseForge issue <a href=\"https://wow.curseforge.com/projects/tellmewhen/issues/648\">#648</a> | <a href=\"https://github.com/tmw-issue-import/dump/blob/master/html/648.html\">Raw</a>","closed":true,"closed_at":"2012-10-12T06:40:48Z","created_at":"2012-10-01T10:43:47Z","updated_at":"2015-06-20T07:01:44Z","labels":["declined"]},"comments":[{"body":" <p>Apologies for the delayed response.</p>\r\n<p>Did some investigating, and it looks like FR scaling depends heavily upon your current stats. As such, given the fact that DogTag offers no way to get your current stats, it isn't possible to track this in TellMeWhen.</p>\r\n<p>You can always get a rough estimate of the healing you will get at your current rage by taking the amount of healing from the tooltip and plugging it into this tag (where 10000 is the number from the tooltip):</p>\r\n<p><code>[(Min(AltP(index=1) / 60, 1) * 10000):Short]</code></p> <div class=\"project-issue-comment-body-modified\"> </div> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/Cybeloras\">Cybeloras</a>","created_at":"2012-10-12T06:40:38Z"},{"body":" <p>Ok, thank you for your answer. it is pity that isn't work with this addon.</p> <div class=\"project-issue-comment-body-modified\"> </div> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/Nergad\">Nergad</a>","created_at":"2012-10-12T09:28:47Z"},{"body":" <p>Here's an updated version of a dog tag to track Frenzed Regeneration for WoD 6.1 based on <a href=\"http://www.wowhead.com/forums&topic=208973/frenzied-regeneration-heal-info-dogtags\" rel=\"nofollow\">this post</a>. It calculates the base heal amount and adjusts for rage, resolve, and the Primal Mending buff. Officially, the base heal is supposed to be 600% of attack power. In testing, it was actually closer to 617%, which is the 6.17 below. It seems to be quite accurate on target dummy testing. It's a little hard to tell with resolve flying up and down so quickly.</p>\r\n<p>I have no lua experience, so there's probably some cleanup that can be done, but it works.</p>\r\n<p>Here's how I use it in my icon. This shows a single number, either the total heal amount in green, or the amount of overheal in red:</p>\r\n<div><div><div>\n\n```\n[if MaxHP - HP &gt;= FrenziedRegenHeal then\r\n    FrenziedRegenHeal:Hide(0):Floor:VeryShort:Green\r\nelse\r\n    (FrenziedRegenHeal - (MaxHP - HP)):Hide(0):Floor:VeryShort:Red\r\nend]\r\n\n```\n</div></div>\r\n</div><p>And here's the dogtag code:</p>\r\n<div><div><div>\n\n```\nlocal DogTag = LibStub(\"LibDogTag-3.0\", true)\r\nDogTag:AddTag(\"Unit\", \"FrenziedRegenHeal\", {\r\n    code =  function()\r\n        local base, pos, neg = UnitAttackPower(\"player\");\r\n        local effective = base + pos + neg;\r\n        local heal = effective * 6.17\r\n\r\n        local rage = UnitPower(\"player\", 1)\r\n        if rage &lt; 60 then\r\n            heal = heal * (rage / 60)\r\n        end\r\n\r\n        local name, rank, icon, count = UnitBuff(\"player\", \"Primal Mending\")\r\n        if count ~= nil then\r\n            heal = heal * (1 + count * 0.1)\r\n        end\r\n\r\n        local resolve = { UnitBuff(\"player\", \"Resolve\") }\r\n        heal = heal * (1 + resolve[15] / 100)\r\n\r\n        return heal   \r\n    end,\r\n    arg = {\r\n        'unit', 'string;undef', 'player'\r\n    },\r\n    ret = \"number\",\r\n    events = \"UNIT_ATTACK_POWER#$unit;PLAYER_AURAS_CHANGED#$unit;UNIT_POWER#$unit;UNIT_MAXPOWER#$unit;UNIT_DISPLAYPOWER#$unit\",\r\n    doc = \"Return amount the heal that Frenzied Regeneration will heal for given current conditions.\",\r\n    example = '[FrenziedRegenHeal] =&gt; \"12345\"',\r\n    category = \"Miscellaneous\"\r\n});\r\n\n```\n</div></div>\r\n</div> <div class=\"project-issue-comment-body-modified\"> </div> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/stevin05\">stevin05</a>","created_at":"2015-06-20T07:01:44Z"}]}