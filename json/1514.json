{"issue":{"title":"[CF 1514] Tracking debuffs on targets ","body":" <p>Since the pre-patch for 8.0.1 TMW has not been tracking debuffs on targets or me.&nbsp; Any cooldown timer for a spell I cast is showing it's duration fine, using my Warlock as an example when my Shadowfury is available again works.&nbsp; What isn't working anymore or me are things like show when the debuff Agony has less than 5 seconds remaining on my target.&nbsp; This type of tracking was working before the 8.0.1 patch.&nbsp; I have updated my TWM to 8.5.0 verison, and I have been trying to create new icons to track this to make see if maybe the formatting or layout of the configuration of the icon displaying has changed.&nbsp; For the Agony example I am telling it to track Agony 231792, however I have tested it with all of the ones in the list just to be sure. On both Targeting dummies as well as actual mobs in the world.</p>\r\n<p>&nbsp;</p>\r\n<p>Icon settings I am using:</p>\r\n<p>Buff/Debuff</p>\r\n<p>What to Track: Agony (231792)</p>\r\n<p>Who to watch: target</p>\r\n<p>Buff or Debuff: Debuff</p>\r\n<p>Buff/Debuff: Only cast by me</p>\r\n<p>Opacuty &amp; Color: Failed=25%, Any present=100%, Any absent=100%</p>\r\n<p>Priorities: Normal Duration, Normal Stacks</p>\r\n<p>&nbsp;</p>\r\n<p>Conditions:</p>\r\n<p>Debuff - Duration</p>\r\n<p>target</p>\r\n<p>&lt;=</p>\r\n<p>4</p>\r\n<p>Agony (231792)</p>\r\n<p>Only cast by me = On</p>\r\n<p>&nbsp;</p>\r\n<p>And this is happening to all my DoT's on the Warlock, as well as any other class like Shaman's Flame Shock.&nbsp; Just wondering if I am missing something that has changed, or if this is something not working yet in the 8.0.1 patch yet.</p> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/SanjiyanUnkara\">SanjiyanUnkara</a> | Imported from CurseForge issue <a href=\"https://wow.curseforge.com/projects/tellmewhen/issues/1514\">#1514</a> | <a href=\"https://github.com/tmw-issue-import/dump/blob/master/html/1514.html\">Raw</a>","closed":true,"closed_at":"2018-07-21T17:32:50Z","created_at":"2018-07-20T03:15:28Z","updated_at":"2018-07-21T20:55:56Z","labels":["invalid"]},"comments":[{"body":" <p>I'm not sure if something I experienced is the same as this issue, but let me add it here just in case it's related.</p>\r\n<p>&nbsp;</p>\r\n<p>I was trying to make an icon for <a href=\"http://www.wowhead.com/spell=84963/inquisition\" rel=\"nofollow\">Inquisition</a>, a Retribution Paladin talent, where the duration would only show when it had 30% or less of its max duration remaining because if you refresh a buff or DoT like that, 30% of the duration is carried over to the new application.&nbsp; In the text layout, I think I had, \"[Duration &lt;= (MaxDuration * 0.3):TMWFormatDuration:Hide(0)]\"&nbsp; This worked completely as expected when using Inquisition with 1 or 3 Holy Power, but if I used it with 2 Holy Power, then the duration would always show EXCEPT during the entire 9th second.&nbsp; 9 seconds is 30% of 30 seconds, the duration of Inquisition with 2 Holy Power.</p>\r\n<p>&nbsp;</p>\r\n<p>I don't really know what to make of this.&nbsp; Inquisition lasts 15 secs per Holy Power used, likely controlled by that one data entry on the Wowhead page, \"Apply Aura: Periodic Dummy&lt;small&gt;<br>Interval: 15 seconds&lt;/small&gt;\"&nbsp; So maybe internally the duration is weird and MaxDuration doesn't work right with it, but then why did it work at 1 and 3 Holy Power?&nbsp; Who knows.&nbsp; It's not like you should EVER use Inquisition with 2 Holy Power anyway, but that was just weird.</p> <div class=\"project-issue-comment-body-modified\"> <hr> <span class=\"e-infoLabel\">Edited</span><span> <abbr class=\"tip standard-date standard-datetime\" title=\"07 20 2018 09:38:36 (CDT) (UTC-5:00)\" data-epoch=\"1532097516\">Jul 20, 2018</abbr></span> </div> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/Kosouda\">Kosouda</a>","created_at":"2018-07-20T14:36:44Z"},{"body":" <p>I have a similar problem with solar fire, I set everything correctly but the duration of the spell is 18sec, but after 6 seconds the tmw disappears, when the Dot still has 13 seconds left to disappear.</p>\r\n<p>&nbsp;</p>\r\n<p>Icon settings I am using:</p>\r\n<p>Buff/Debuff</p>\r\n<p>What to Track: Solar fire (93402)</p>\r\n<p>Who to watch: target</p>\r\n<p>Buff or Debuff: Debuff</p>\r\n<p>Buff/Debuff: Only cast by me</p>\r\n<p>Opacuty &amp; Color: Any present=100%, Any absent=100%</p>\r\n<p>Priorities: Normal Duration, Normal Stacks</p>\r\n<p>&nbsp;</p> <div class=\"project-issue-comment-body-modified\"> </div> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/petrelloo\">petrelloo</a>","created_at":"2018-07-20T16:50:59Z"},{"body":" <p>I need export strings of your icons. @Kosouda, your issue sounds different than this - when in doubt, open a new issue. @petrelloo,&nbsp;Solar fire isn't even a spell - again, I need export strings, not descriptions of settings.</p> <div class=\"project-issue-comment-body-modified\"> <hr> <span class=\"e-infoLabel\">Edited</span><span> <abbr class=\"tip standard-date standard-datetime\" title=\"07 21 2018 01:25:42 (CDT) (UTC-5:00)\" data-epoch=\"1532154342\">Jul 21, 2018</abbr></span> </div> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/Cybeloras\">Cybeloras</a>","created_at":"2018-07-21T06:18:47Z"},{"body":" <p>(I didn't know I could do this till I read your reply or I would have included this with my original post)</p>\r\n<p>&nbsp;</p>\r\n<p>Here is one for my Shaman's Flame Shock, I have loosely tried version of it but it is pretty close to what it was working back in 7.3.5 outside of changing the Flame Shock to 188389 and 188838</p>\r\n<p>^1^T^SBuffOrDebuff^SHARMFUL ^SUnit^Starget ^SOnlyMine^B ^SType^Sbuff ^SConditions^T ^N1^T ^SType^SBUFFDUR ^SChecked^B ^SUnit^Starget ^SOperator^S&lt;= ^SLevel^N5 ^SName^SFlame~`Shock ^t^Sn^N1 ^t^SName^SFlame~`Shock ^SEnabled^B ^SStates^T ^N1^T ^t^N3^T ^t^N4^T ^t^t^t^N84405^S~`~| ^Sicon^^</p>\r\n<p>&nbsp;</p>\r\n<p>For my Warlock example this is the variation I thought should work:</p>\r\n<p>^1^T^SBuffOrDebuff^SHARMFUL ^SUnit^Starget ^SType^Sbuff ^SConditions^T ^N1^T ^SType^SDEBUFFDUR ^SChecked^B ^SOperator^S&lt;= ^SUnit^Starget ^SLevel^N4 ^SName^SAgony ^t^Sn^N1 ^t^SName^SAgony ^SHideIfNoUnits^B ^SOnlyMine^B ^SStates^T ^N1^T ^t^N2^T ^SAlpha^N1 ^t^N3^T ^t^N4^T ^t^N100^T ^SAlpha^N0.47 ^t^N102^T ^SAlpha^N0.21 ^t^t^SEnabled^B ^SDurationMin^N300 ^SDurationMax^N300 ^t^N84405^S~`~| ^Sicon^^</p>\r\n<p>&nbsp;</p> <div class=\"project-issue-comment-body-modified\"> </div> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/SanjiyanUnkara\">SanjiyanUnkara</a>","created_at":"2018-07-21T16:30:44Z"},{"body":" <p>You're not using TMW 8.5.0. You're using 8.4.4. Also, for your flame shock icon, your condition is \"Buff - Duration\", not \"Debuff - Duration\".</p> <div class=\"project-issue-comment-body-modified\"> </div> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/Cybeloras\">Cybeloras</a>","created_at":"2018-07-21T17:32:50Z"},{"body":" <p>&nbsp;guess it is a Twitch bug then...&nbsp; &nbsp;When I look at it from there it in Twitch it says:</p>\r\n<p>&nbsp;</p>\r\n<p>Addon: TellMeWhen 8.5.0</p>\r\n<p>Status: Up to date</p>\r\n<p>Latest Version: 8.5.0</p>\r\n<p>Game Version: 8.0.1</p>\r\n<p>Author: Cybeloras</p>\r\n<p>&nbsp;</p>\r\n<p>And I have told it to reinstall too... I actually told \"all\" of my UI's to force reinstall because of other problems I have been having.&nbsp; I deleted the UI folder from AddOns and told it to download again while the game was closed.&nbsp; Still doing the same thing.</p>\r\n<p>&nbsp;</p>\r\n<p>^1^T^SBuffOrDebuff^SHARMFUL ^SUnit^Starget ^SType^Sbuff ^SHideIfNoUnits^B ^SName^SAgony ^SConditions^T ^N1^T ^SType^SDEBUFFDUR ^SChecked^B ^SOperator^S&lt;= ^SUnit^Starget ^SLevel^N4 ^SName^SAgony ^t^Sn^N1 ^t^SOnlyMine^B ^SSettingsPerView^T ^Sicon^T ^STexts^T ^N2^S[Stacks:Hide(0)] ^t^t^t^SStates^T ^N1^T ^t^N2^T ^SAlpha^N1 ^t^N3^T ^t^N4^T ^t^N100^T ^SAlpha^N0.47 ^t^N102^T ^SAlpha^N0.21 ^t^t^SEnabled^B ^SDurationMin^N300 ^SDurationMax^N300 ^t^N84405^S~`~| ^Sicon^^</p>\r\n<p>&nbsp;</p>\r\n<p>&nbsp;</p>\r\n<p>:edit:</p>\r\n<p>&nbsp;</p>\r\n<p>Bah, hit submit a second too soon... I copied the same Agony string out of TMW after doing the delete and redownload.&nbsp; The string is slightly different, I changed nothing between the 2 copy/paste other then deleting and redownloading.&nbsp; So redownloading did change something even though it 'appeared' that I had 8.5.0</p> <div class=\"project-issue-comment-body-modified\"> <hr> <span class=\"e-infoLabel\">Edited</span><span> <abbr class=\"tip standard-date standard-datetime\" title=\"07 21 2018 15:40:56 (CDT) (UTC-5:00)\" data-epoch=\"1532205656\">Jul 21, 2018</abbr></span> </div> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/SanjiyanUnkara\">SanjiyanUnkara</a>","created_at":"2018-07-21T20:38:01Z"},{"body":" <p>But in game you are right and it is saying 8.4.4, but in Twitch it is saying 8.5.0.</p>\r\n<p>So I deleted the folders again, and went to&nbsp;<a href=\"https://www.curseforge.com/wow/addons/tellmewhen/download\" rel=\"nofollow\">https://www.curseforge.com/wow/addons/tellmewhen/download</a></p>\r\n<p>Downloaded it, unzipped in myself and copied it into the AddOns folder.&nbsp; In game it is still showing 8.4.4 but Twitch sees 8.5.0</p> <div class=\"project-issue-comment-body-modified\"> </div> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/SanjiyanUnkara\">SanjiyanUnkara</a>","created_at":"2018-07-21T20:47:42Z"},{"body":" <p>Ugg.....&nbsp; &nbsp;This is all my fault...&nbsp;</p>\r\n<p>At some point I pointed my Twitch Mods to look at my WoW Alpha/Beta folder... It is been updating that, so in live nothing was actually being updated... Sorry, my bad...&nbsp; Working perfectly now</p>\r\n<p>&nbsp;</p>\r\n<p>:(</p>\r\n<p>&nbsp;</p>\r\n<p>Keep up the awesome work :)&nbsp; Thank you</p> <div class=\"project-issue-comment-body-modified\"> </div> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/SanjiyanUnkara\">SanjiyanUnkara</a>","created_at":"2018-07-21T20:55:56Z"}]}