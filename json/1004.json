{"issue":{"title":"[CF 1004] Another addon calling debugprofilestart ","body":" <p>IMPORTANT: If your issue is only occurring with a specific icon, include an export string of the icon in this ticket. Subsequently, if the issue involves an entire group or an entire profile, include the entire export string of the group or profile.</p><p>To get an export string, open the icon editor, and click button labeled \"Import/Export/Backup\". Select the \"To string\" option for the appropriate export type (icon, group, or profile), and then press CTRL+C to copy it to your clipboard.</p><p>FAILURE TO COMPLY WITH THE ABOVE INSTRUCTIONS WILL RESULT IN YOUR TICKET BEING INVALIDATED.</p><p>What steps will reproduce the problem?<br>1. Updated to 6.0.2 and logged in<br>2.<br>3.</p><p>What do you expect to happen? What happens instead?<br>Swatter reports error - it appears to be TradeSkillMaster 2.9.9 (updated for 6.0) but asks to report to you too so am doing so.</p><p>What version of TellMeWhen are you using? (\"The latest\" is not a version)<br>7.1.1</p><p>Do you have an error log of what happened?<br>Date: 2014-10-15 09:14:41<br>ID: 1<br>Error occured in: Global<br>Count: 1<br>Message: TellMeWhen: TMW has detected that one of your addons has called debugprofilestart().<br>This is bad practice, and can break parts of TellMeWhen and other addons as well.<br>Report this error to TellMeWhen's authors so that we can look into resolving the issue.<br>Debug:<br>&nbsp;&nbsp; TellMeWhen\\TellMeWhen.lua:918: Error()<br>&nbsp;&nbsp; TellMeWhen\\TellMeWhen.lua:1097: debugprofilestart()<br>&nbsp;&nbsp; ...\\TradeSkillMaster\\Libs\\AccurateTime\\AccurateTime.lua:40: in main chunk<br>Locals:<br>None<br>AddOns:<br>&nbsp; Swatter, v5.21.5490 (SanctimoniousSwamprat)<br>&nbsp; AckisRecipeList, v3.0.6<br>&nbsp; AckisRecipeListQuickScan, v6.0.2.1<br>&nbsp; ACP, v3.4.10<br>&nbsp; AskMrRobot, v2<br>&nbsp; AucAdvanced, v5.21.5490 (SanctimoniousSwamprat)<br>&nbsp; AucFilterBasic, v5.21.5490 (SanctimoniousSwamprat)<br>&nbsp; AucFilterOutlier, v5.21.5490.5459(5.21a/embedded)<br>&nbsp; AucMatchUndercut, v5.21.5490.5364(5.21a/embedded)<br>&nbsp; AucStatHistogram, v5.21.5490 (SanctimoniousSwamprat)<br>&nbsp; AucStatiLevel, v5.21.5490 (SanctimoniousSwamprat)<br>&nbsp; AucStatPurchased, v5.21.5490 (SanctimoniousSwamprat)<br>&nbsp; AucStatSales, v5.21.5490.5476(5.21a/embedded)<br>&nbsp; AucStatSimple, v5.21.5490 (SanctimoniousSwamprat)<br>&nbsp; AucStatStdDev, v5.21.5490 (SanctimoniousSwamprat)<br>&nbsp; AucStatWOWEcon, v5.21.5490.5323(5.21a/embedded)<br>&nbsp; AucUtilAHWindowControl, v5.21.5490.5347(5.21a/embedded)<br>&nbsp; AucUtilAppraiser, v5.21.5490.5462(5.21a/embedded)<br>&nbsp; AucUtilAskPrice, v5.21.5490.5447(5.21a/embedded)<br>&nbsp; AucUtilAutoMagic, v5.21.5490.5443(5.21a/embedded)<br>&nbsp; AucUtilCompactUI, v5.21.5490.5444(5.21a/embedded)<br>&nbsp; AucUtilEasyBuyout, v5.21.5490.5458(5.21a/embedded)<br>&nbsp; AucUtilFixAH, v5.21.5490 (SanctimoniousSwamprat)<br>&nbsp; AucUtilItemSuggest, v5.21.5490.5417(5.21a/embedded)<br>&nbsp; AucUtilPriceLevel, v5.21.5490.5458(5.21a/embedded)<br>&nbsp; AucUtilScanButton, v5.21.5490.5403(5.21a/embedded)<br>&nbsp; AucUtilScanFinish, v5.21.5490.5347(5.21a/embedded)<br>&nbsp; AucUtilScanProgress, v5.21.5490.4979(5.21a/embedded)<br>&nbsp; AucUtilScanStart, v5.21.5490.5347(5.21a/embedded)<br>&nbsp; AucUtilSearchUI, v5.21.5490.5481(5.21a/embedded)<br>&nbsp; AucUtilSimpleAuction, v5.21.5490.5452(5.21a/embedded)<br>&nbsp; AucUtilVendMarkup, v5.21.5490.4828(5.21a/embedded)<br>&nbsp; Babylonian, v5.1.DEV.332(/embedded)<br>&nbsp; BadBoy, v12.408<br>&nbsp; Bartender4, v4.6.0<br>&nbsp; BeanCounter, v5.21.5490 (SanctimoniousSwamprat)<br>&nbsp; ComboPointsRedux, v2.3.0<br>&nbsp; Configator, v5.1.DEV.359(/embedded)<br>&nbsp; DBMCore, v<br>&nbsp; DBMDefaultSkin, v<br>&nbsp; DBMStatusBarTimers, v<br>&nbsp; DebugLib, v5.1.DEV.337(/embedded)<br>&nbsp; Decursive, v2.7.3.4<br>&nbsp; Enchantrix, v5.21.5490 (SanctimoniousSwamprat)<br>&nbsp; EnchantrixBarker, v5.21.5490 (SanctimoniousSwamprat)<br>&nbsp; HealersHaveToDie, v2.3.1<br>&nbsp; LibExtraTip, v5.12.DEV.363(/embedded)<br>&nbsp; oRA3, v<br>&nbsp; Paste, v1.4.0<br>&nbsp; RareCoordinator, v<br>&nbsp; Skada, v1.4-20<br>&nbsp; SlideBar, v5.21.5490 (SanctimoniousSwamprat)<br>&nbsp; SpellFlash, v6.12<br>&nbsp; SpellFlashCore, v2.0.5<br>&nbsp; Stubby, v5.21.5490 (SanctimoniousSwamprat)<br>&nbsp; TellMeWhen, v7.1.1<br>&nbsp; TidyPlates, v6.15.0.1<br>&nbsp; TidyPlatesGraphite, v<br>&nbsp; TidyPlatesGrey, v<br>&nbsp; TidyPlatesNeon, v<br>&nbsp; TidyPlatesQuatre, v<br>&nbsp; TidyPlatesHub, v<br>&nbsp; TidyPlatesWidgets, v<br>&nbsp; TipHelper, v5.12.DEV.351(/embedded)<br>&nbsp; TradeSkillMaster, vv2.9.9<br>&nbsp; BlizRuntimeLib_enUS v6.0.2.60000 &lt;none&gt;<br>&nbsp; (ck=9da)</p><p>Please provide any additional information below (including any export strings if applicable; see above.)</p> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/Tequima\">Tequima</a> | Imported from CurseForge issue <a href=\"https://wow.curseforge.com/projects/tellmewhen/issues/1004\">#1004</a> | <a href=\"https://github.com/tmw-issue-import/dump/blob/master/html/1004.html\">Raw</a>","closed":true,"closed_at":"2014-10-16T00:56:37Z","created_at":"2014-10-15T08:19:28Z","updated_at":"2014-10-16T00:56:37Z","labels":["defect","resolved"]},"comments":[{"body":" <p>I believe the TSM authors knew this would be an issue eventually and created a library called Accurate Time to prevent multiple addons calling the function repeatedly.</p>\r\n<p><a href=\"http://www.wowace.com/addons/accuratetime/\" rel=\"nofollow\">http://www.wowace.com/addons/accuratetime/</a></p>\r\n<p>\"This library will fix the shortfalls with debugprofilestart() and debugprofilestop() with the goal of providing a conflict-free way for addons to get accurate timing information. A common use-case for this would be for timing coroutines in order to limit the amount of processing that's done, or to do something in the \"background\" without using up too much CPU time.\"</p>\r\n<p>I came here to add my name to the list of TSM is using debugprofilestart() in their accurate time library and conflicting with TMW.</p> <div class=\"project-issue-comment-body-modified\"> </div> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/John454ss\">John454ss</a>","created_at":"2014-10-15T09:16:22Z"},{"body":" <p>Ugh. That is obnoxious. That library that they wrote has some horrible overhead (3 function calls and 8 table lookups for every single call that use to just be a single function call) that is really not necessary. I guess that If you want to use TSM then you're stuck with that lib (unless you go and delete it from TradeSkillMaster\\Libs), but know that it is adding a pretty ridiculous amount of overhead to TMW and any other addons that need precision timing. </p>\r\n<p>Their call to debugprofilestart() makes a tiny bit of sense, but the practicality of it is highly questionable. Your computer would have to be running for 113 days straight without being restarted before you would loose any meaningful precision, and 1137 days straight before the timer would start to lose microsecond precision (even though millisecond precision is all that is ever needed).</p> <div class=\"project-issue-comment-body-modified\"> </div> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/Cybeloras\">Cybeloras</a>","created_at":"2014-10-15T15:27:44Z"},{"body":" <p>Would it be possible to change the popup from a LUA error to some suppressable information window? I'd hate to have to disable LUA errors because of this.</p> <div class=\"project-issue-comment-body-modified\"> <hr> <span class=\"e-infoLabel\">Edited</span><span> <abbr class=\"tip standard-date standard-datetime\" title=\"10 15 2014 12:05:32 (CDT) (UTC-5:00)\" data-epoch=\"1413392732\">Oct 15, 2014</abbr></span> </div> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/blackytemp\">blackytemp</a>","created_at":"2014-10-15T17:04:21Z"},{"body":" <p><cite>@<a href=\"https://github.com/tmw-issue-import/TellMeWhen/issues?q=%5BCF%201004%5D+in%3Atitle\" rel=\"nofollow\">Cybeloras</a>: <a href=\"https://github.com/tmw-issue-import/TellMeWhen/issues?q=%5BCF%201004%5D+in%3Atitle\" rel=\"nofollow\">Go</a></cite></p>\r\n<p>Would it be possible to change the popup from a LUA error to some suppressable information window? I'd hate to have to disable LUA errors because of this.</p> <div class=\"project-issue-comment-body-modified\"> </div> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/blackytemp\">blackytemp</a>","created_at":"2014-10-15T17:06:02Z"},{"body":" <p>Yeah, sorry. Next build will suppress it completely for this TSM lib, and make it less obnoxious for any other AddOns.</p> <div class=\"project-issue-comment-body-modified\"> </div> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/Cybeloras\">Cybeloras</a>","created_at":"2014-10-15T17:09:38Z"}]}