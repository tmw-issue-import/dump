{"issue":{"title":"[CF 1360] 7.1.5 issues - version 8.2.4 ","body":" <p>1x ...\\TellMeWhen\\Components\\Core\\Spells\\Equivalencies.lua:524: attempt to compare two nil values<br>...\\TellMeWhen\\Components\\Core\\Spells\\Equivalencies.lua:524: in function &lt;...\\TellMeWhen\\Components\\Core\\Spells\\Equivalencies.lua:477&gt;<br>(tail call): ?<br>[C]: ?<br>[string \"safecall Dispatcher[1]\"]:9: in function &lt;[string \"safecall Dispatcher[1]\"]:5&gt;<br>(tail call): ?<br>TellMeWhen\\TellMeWhen-8.2.4.lua:800: in function `Fire'<br>TellMeWhen\\TellMeWhen-8.2.4.lua:1155: in function `?'<br>...non\\libs\\CallbackHandler-1.0\\CallbackHandler-1.0-6.lua:147: in function &lt;...non\\libs\\CallbackHandler-1.0\\CallbackHandler-1.0.lua:147&gt;<br>[string \"safecall Dispatcher[1]\"]:4: in function &lt;[string \"safecall Dispatcher[1]\"]:4&gt;<br>[C]: ?<br>[string \"safecall Dispatcher[1]\"]:13: in function `?'<br>...non\\libs\\CallbackHandler-1.0\\CallbackHandler-1.0-6.lua:92: in function `Fire'<br>...aceBagnon\\libs\\AceEvent-3.0\\AceEvent-3.0-3.lua:52: in function &lt;...aceBagnon\\libs\\AceEvent-3.0\\AceEvent-3.0.lua:51&gt;<br><br>Locals:<br>nil</p>\r\n<p>&nbsp;</p>\r\n<p>&nbsp;</p>\r\n<p>&nbsp;</p>\r\n<p>4x TellMeWhen\\Components\\Core\\Group-Group.lua:328: bad argument #2 to 'band' (number expected, got nil)<br>[C]: in function `band'<br>TellMeWhen\\Components\\Core\\Group-Group.lua:328: in function &lt;TellMeWhen\\Components\\Core\\Group.lua:309&gt;<br>TellMeWhen\\Components\\Core\\Group-Group.lua:345: in function `ShouldUpdateIcons'<br>TellMeWhen\\Components\\Core\\Group-Group.lua:392: in function `Setup_Conditions'<br>TellMeWhen\\Components\\Core\\Group-Group.lua:476: in function &lt;TellMeWhen\\Components\\Core\\Group.lua:424&gt;<br>(tail call): ?<br>[C]: ?<br>[string \"safecall Dispatcher[1]\"]:9: in function &lt;[string \"safecall Dispatcher[1]\"]:5&gt;<br>(tail call): ?<br>TellMeWhen\\TellMeWhen-8.2.4.lua:2654: in function `UpdateNormally'<br>TellMeWhen\\TellMeWhen-8.2.4.lua:2786: in function `Update'<br>TellMeWhen\\TellMeWhen-8.2.4.lua:1161: in function `?'<br>...non\\libs\\CallbackHandler-1.0\\CallbackHandler-1.0-6.lua:147: in function &lt;...non\\libs\\CallbackHandler-1.0\\CallbackHandler-1.0.lua:147&gt;<br>[string \"safecall Dispatcher[1]\"]:4: in function &lt;[string \"safecall Dispatcher[1]\"]:4&gt;<br>[C]: ?<br>[string \"safecall Dispatcher[1]\"]:13: in function `?'<br>...non\\libs\\CallbackHandler-1.0\\CallbackHandler-1.0-6.lua:92: in function `Fire'<br>...aceBagnon\\libs\\AceEvent-3.0\\AceEvent-3.0-3.lua:52: in function &lt;...aceBagnon\\libs\\AceEvent-3.0\\AceEvent-3.0.lua:51&gt;<br><br>Locals:<br>nil</p> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/transitbus\">transitbus</a> | Imported from CurseForge issue <a href=\"https://wow.curseforge.com/projects/tellmewhen/issues/1360\">#1360</a> | <a href=\"https://github.com/tmw-issue-import/dump/blob/master/html/1360.html\">Raw</a>","closed":true,"closed_at":"2017-01-14T18:44:11Z","created_at":"2017-01-10T16:21:22Z","updated_at":"2017-01-14T18:44:11Z","labels":["defect","resolved"]},"comments":[{"body":" <p>This seemed to resolve my problems so far</p>\r\n<p>&nbsp;</p>\r\n<p>local _, _, _, _, _, role = GetSpecializationInfo(currentSpec)</p>\r\n<p>&nbsp;</p>\r\n<p>in utils.lua line 1459</p>\r\n<p>&nbsp;</p>\r\n<p>Just change hte returned value placement to here</p>\r\n<p>&nbsp;</p>\r\n<p>local _, _, _, _, role = GetSpecializationInfo(currentSpec)</p>\r\n<p>&nbsp;</p>\r\n<p>When I did a /dump of that function the 5th value was role it seems.</p> <div class=\"project-issue-comment-body-modified\"> <hr> <span class=\"e-infoLabel\">Edited</span><span> <abbr class=\"tip standard-date standard-datetime\" title=\"01 10 2017 12:34:23 (CDT) (UTC-6:00)\" data-epoch=\"1484073263\">Jan 10, 2017</abbr></span> </div> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/transitbus\">transitbus</a>","created_at":"2017-01-10T18:33:27Z"},{"body":" <p>They removed the 'background' return on that function so it went from 7 return values to 6. The adjustment transitbus made is correct. A few addons will end up needing to make the same adjustment.</p> <div class=\"project-issue-comment-body-modified\"> <hr> <span class=\"e-infoLabel\">Edited</span><span> <abbr class=\"tip standard-date standard-datetime\" title=\"01 10 2017 18:32:24 (CDT) (UTC-6:00)\" data-epoch=\"1484094744\">Jan 10, 2017</abbr></span> </div> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/Torchler\">Torchler</a>","created_at":"2017-01-11T00:32:20Z"},{"body":" <p>In Core\\Spells\\Equivalencies.lua I simply commented out the version check until a fix is provided.</p>\r\n<p>&nbsp;</p>\r\n<p>&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; -- if clientVersion &gt;= addonVersion then -- only warn for newer clients using older versions<br>&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;-- TMW:Debug(\"Invalid spellID found: %s (%s - %s)!\",<br>&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;-- realSpellID, category, equiv)<br>&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;-- end</p> <div class=\"project-issue-comment-body-modified\"> <hr> <span class=\"e-infoLabel\">Edited</span><span> <abbr class=\"tip standard-date standard-datetime\" title=\"01 10 2017 20:00:25 (CDT) (UTC-6:00)\" data-epoch=\"1484100025\">Jan 10, 2017</abbr></span> </div> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/transitbus\">transitbus</a>","created_at":"2017-01-11T02:00:06Z"}]}