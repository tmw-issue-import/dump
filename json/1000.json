{"issue":{"title":"[CF 1000] Display function value ","body":" <p>Is it possible to show result of following function in TMW icon? This function taken from WeakAuras2 balance druid setup and responsible for display eclipse timer in WOD.</p>\r\n<div><div><div>\n\n```\nfunction()\r\n    local peakTimer\r\n    local eclipsePosition\r\n    local eclipseTimers\r\n    local moon\r\n    local currentPowerTime\r\n    local extraTimer\r\n    \r\n    \r\n    if GetEclipseDirection() == 'moon' then\r\n        moon = true\r\n    else\r\n        moon = false\r\n    end\r\n    \r\n    eclipsePosition = UnitPower('player',SPELL_POWER_ECLIPSE)\r\n    \r\n    currentPowerTime = math.asin(UnitPower('player', SPELL_POWER_ECLIPSE)/105)/math.pi*20\r\n    peakTimer = math.asin(100/105)/math.pi*20\r\n    extraTimer =( math.asin(105/105)/math.pi*20 - peakTimer)*2\r\n    \r\n    if moon and eclipsePosition &gt; 0 then\r\n        eclipseTimers = abs(currentPowerTime)\r\n    elseif moon and eclipsePosition &lt; 0 then\r\n        eclipseTimers = 20 - abs(currentPowerTime) - peakTimer-extraTimer\r\n    elseif not moon and eclipsePosition &lt; 0 then\r\n        eclipseTimers = abs(currentPowerTime)\r\n    else\r\n        eclipseTimers = 20 - abs(currentPowerTime) - peakTimer-extraTimer\r\n    end\r\n    \r\n    return string.format(\"%.1f\", eclipseTimers)\r\n    \r\nend\r\n\n```\n</div></div>\r\n</div> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/nrw2000\">nrw2000</a> | Imported from CurseForge issue <a href=\"https://wow.curseforge.com/projects/tellmewhen/issues/1000\">#1000</a> | <a href=\"https://github.com/tmw-issue-import/dump/blob/master/html/1000.html\">Raw</a>","closed":true,"closed_at":"2014-10-13T22:49:10Z","created_at":"2014-09-22T16:31:42Z","updated_at":"2014-10-13T22:49:10Z","labels":["resolved"]},"comments":[{"body":" <p>CONGRATULATIONS!!!!! YOU ARE THE 1000TH TICKET SUBMITTER! YOU HAVE BEEN SELECTED TO WIN A PRIZE!</p>\r\n<p>Your prize is an answer to your ticket: Yes you can. Import this into TMW, and then reload your UI. You can access it by using the [EclipseTimer] DogTag on your icons.</p>\r\n<p><code>^1^T^SName^SEclipseTimer~`DogTag ^SCode^Slocal~`DogTag~`=~`LibStub(\"LibDogTag-3.0\",~`true)~J DogTag:AddTag(\"TMW\",~`\"EclipseTimer\",~`{~J ~`~`~`~`~`~`~`~`code~`=~`function()~J ~`~`~`~`~`~`~`~`~`~`~`~`local~`peakTimer~J ~`~`~`~`~`~`~`~`~`~`~`~`local~`eclipsePosition~J ~`~`~`~`~`~`~`~`~`~`~`~`local~`eclipseTimers~J ~`~`~`~`~`~`~`~`~`~`~`~`local~`moon~J ~`~`~`~`~`~`~`~`~`~`~`~`local~`currentPowerTime~J ~`~`~`~`~`~`~`~`~`~`~`~`local~`extraTimer~J ~`~`~`~`~`~`~`~`~`~`~`~`~J ~`~`~`~`~`~`~`~`~`~`~`~`~J ~`~`~`~`~`~`~`~`~`~`~`~`if~`GetEclipseDirection()~`==~`'moon'~`then~J ~`~`~`~`~`~`~`~`~`~`~`~`~`~`~`~`moon~`=~`true~J ~`~`~`~`~`~`~`~`~`~`~`~`else~J ~`~`~`~`~`~`~`~`~`~`~`~`~`~`~`~`moon~`=~`false~J ~`~`~`~`~`~`~`~`~`~`~`~`end~J ~`~`~`~`~`~`~`~`~`~`~`~`~J ~`~`~`~`~`~`~`~`~`~`~`~`eclipsePosition~`=~`UnitPower('player',SPELL_POWER_ECLIPSE)~J ~`~`~`~`~`~`~`~`~`~`~`~`~J ~`~`~`~`~`~`~`~`~`~`~`~`currentPowerTime~`=~`math.asin(UnitPower('player',~`SPELL_POWER_ECLIPSE)/105)/math.pi*20~J ~`~`~`~`~`~`~`~`~`~`~`~`peakTimer~`=~`math.asin(100/105)/math.pi*20~J ~`~`~`~`~`~`~`~`~`~`~`~`extraTimer~`=(~`math.asin(105/105)/math.pi*20~`-~`peakTimer)*2~J ~`~`~`~`~`~`~`~`~`~`~`~`~J ~`~`~`~`~`~`~`~`~`~`~`~`if~`moon~`and~`eclipsePosition~`&gt;~`0~`then~J ~`~`~`~`~`~`~`~`~`~`~`~`~`~`~`~`eclipseTimers~`=~`abs(currentPowerTime)~J ~`~`~`~`~`~`~`~`~`~`~`~`elseif~`moon~`and~`eclipsePosition~`&lt;~`0~`then~J ~`~`~`~`~`~`~`~`~`~`~`~`~`~`~`~`eclipseTimers~`=~`20~`-~`abs(currentPowerTime)~`-~`peakTimer-extraTimer~J ~`~`~`~`~`~`~`~`~`~`~`~`elseif~`not~`moon~`and~`eclipsePosition~`&lt;~`0~`then~J ~`~`~`~`~`~`~`~`~`~`~`~`~`~`~`~`eclipseTimers~`=~`abs(currentPowerTime)~J ~`~`~`~`~`~`~`~`~`~`~`~`else~J ~`~`~`~`~`~`~`~`~`~`~`~`~`~`~`~`eclipseTimers~`=~`20~`-~`abs(currentPowerTime)~`-~`peakTimer-extraTimer~J ~`~`~`~`~`~`~`~`~`~`~`~`end~J ~`~`~`~`~`~`~`~`~`~`~`~`~J ~`~`~`~`~`~`~`~`~`~`~`~`return~`string.format(\"%.1f\",~`eclipseTimers)~J ~`~`~`~`~`~`~`~`end~J ~`~`~`~`~`~`~`~`,~J ~`~`~`~`~`~`~`~`ret~`=~`\"string\",~J ~`~`~`~`~`~`~`~`events~`=~`\"UNIT_POWER_FREQUENT#player;ECLIPSE_DIRECTION_CHANGE\",~J ~`~`~`~`~`~`~`~`doc~`=~`\"Eclipse~`timer~`for~`WoD\",~J ~`~`~`~`~`~`~`~`example~`=~`'[EclipseTimer]~`=&gt;~`\"8.0\"',~J ~`~`~`~`~`~`~`~`category~`=~`\"CUSTOM\",~J }) ^t^N70307^S~`~| ^Scodesnippet^^</code></p> <div class=\"project-issue-comment-body-modified\"> <hr> <span class=\"e-infoLabel\">Edited</span><span> <abbr class=\"tip standard-date standard-datetime\" title=\"09 22 2014 21:11:09 (CST) (UTC-5:00)\" data-epoch=\"1411438269\">Sep 22, 2014</abbr></span> </div> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/Cybeloras\">Cybeloras</a>","created_at":"2014-09-23T02:08:58Z"}]}