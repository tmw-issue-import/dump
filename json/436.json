{"issue":{"title":"[CF 436] Missing timer and timertext ","body":" <p>Got this error:</p><p>Message: ..\\AddOns\\TellMeWhen\\TellMeWhen.lua line 3572:<br>&nbsp;&nbsp; attempt to compare nil with number<br>Debug:<br>&nbsp;&nbsp; [C]: ?<br>&nbsp;&nbsp; TellMeWhen\\TellMeWhen.lua:3572: OnUpdate()<br>&nbsp;&nbsp; TellMeWhen\\TellMeWhen.lua:1557:<br>&nbsp; &nbsp; &nbsp; TellMeWhen\\TellMeWhen.lua:1419</p><p>At the same time my \"overpower/thirst for blood\" meta is missing timer and timertext after inserted into another metaicon</p> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/AmeroGer\">AmeroGer</a> | Imported from CurseForge issue <a href=\"https://wow.curseforge.com/projects/tellmewhen/issues/436\">#436</a> | <a href=\"https://github.com/tmw-issue-import/dump/blob/master/html/436.html\">Raw</a>","closed":true,"closed_at":"2012-02-09T01:45:11Z","created_at":"2012-02-06T00:05:28Z","updated_at":"2012-02-09T01:45:11Z","labels":["defect","resolved"]},"comments":[{"body":" <p>Should be fixed now. I was getting some really weird bugs too that disappeared when I fixed this. Hopefully the missing timer bug will fix for you too.</p> <div class=\"project-issue-comment-body-modified\"> </div> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/Cybeloras\">Cybeloras</a>","created_at":"2012-02-06T05:23:45Z"},{"body":" <p><cite>@<a href=\"https://github.com/tmw-issue-import/TellMeWhen/issues?q=%5BCF%20436%5D+in%3Atitle\" rel=\"nofollow\">Cybeloras</a>: <a href=\"https://github.com/tmw-issue-import/TellMeWhen/issues?q=%5BCF%20436%5D+in%3Atitle\" rel=\"nofollow\">Go</a></cite></p>\r\n<p>It's still occuring.</p>\r\n<p>On closer inspection, it's not just that the timer and timertext is absent. Some priorities seem to be mixed up as well. Overpower is now placed over a few other icons in the priority list. I backed up to an older version and everything is working as intended again, so I'm pretty sure that it isn't a screwup on my part.</p> <div class=\"project-issue-comment-body-modified\"> <hr> <span class=\"e-infoLabel\">Edited</span><span> <abbr class=\"tip standard-date standard-datetime\" title=\"02 6 2012 11:10:25 (CST) (UTC-6:00)\" data-epoch=\"1328548225\">Feb 6, 2012</abbr></span> </div> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/AmeroGer\">AmeroGer</a>","created_at":"2012-02-06T16:17:20Z"},{"body":" <p>What older version did you roll back to that is working just fine? Also, please do the following for me:</p>\r\n<ul><li>Post the export string of your profile\r\n</li><li>List what icons should be prioritized over Overpower, but aren't.\r\n</li><li>List what icons are missing timer/timer text/etc</li></ul> <div class=\"project-issue-comment-body-modified\"> </div> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/Cybeloras\">Cybeloras</a>","created_at":"2012-02-06T23:10:43Z"},{"body":" <p>I added a setting in TMW's main options in r442 to revert back to the old mechanism. Use this to see if you can find any discrepancies between the old and the new (checked and unchecked). I'm not familiar enough with your setup (I'm using the export string posted in the forums), nor is my warrior high enough level (only 32), to properly test using your profile.</p> <div class=\"project-issue-comment-body-modified\"> </div> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/Cybeloras\">Cybeloras</a>","created_at":"2012-02-07T00:29:07Z"},{"body":" <p>I'm sorry, the error was actually occuring in a different icon than I originally thought. I had them confused because they both use the same texture. The diagnosis has become much simpler as a result though. This is a simple icon to check whether Overpower is castable:</p>\r\n<p>^1^T^SShowTimer^B ^SConditions^T ^N1^T ^SType^SBUFFDUR ^SOperator^S&lt;= ^SName^STaste`for`Blood ^SLevel^N5 ^t^Sn^N1 ^t^SType^Sreactive ^SName^SOverpower ^SEvents^T ^SOnShow^T ^SDuration^N5 ^t^t^SEnabled^B ^SUseActvtnOverlay^B ^t^N50005^S`| ^Sicon^^</p>\r\n<p>After casting Overpower off of Taste for Blood this icon will continue to show, despite Overpower clearly not being castable.</p> <div class=\"project-issue-comment-body-modified\"> <hr> <span class=\"e-infoLabel\">Edited</span><span> <abbr class=\"tip standard-date standard-datetime\" title=\"02 7 2012 17:46:41 (CST) (UTC-6:00)\" data-epoch=\"1328658401\">Feb 7, 2012</abbr></span> </div> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/AmeroGer\">AmeroGer</a>","created_at":"2012-02-07T23:46:07Z"},{"body":" <p>Ok, thanks. I was noticing that overpower was showing when it wasn't usable, but I was a little short on time and didn't have time to investigate if it was a TMW bug or an issue caused by testing in a level 32.</p> <div class=\"project-issue-comment-body-modified\"> </div> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/Cybeloras\">Cybeloras</a>","created_at":"2012-02-07T23:56:07Z"},{"body":" <p><cite>@<a href=\"https://github.com/tmw-issue-import/TellMeWhen/issues?q=%5BCF%20436%5D+in%3Atitle\" rel=\"nofollow\">AmeroGer</a>: <a href=\"https://github.com/tmw-issue-import/TellMeWhen/issues?q=%5BCF%20436%5D+in%3Atitle\" rel=\"nofollow\">Go</a></cite></p>\r\n<p>Talk about a stupid bug. I Forgot to change SHOW to HIDE when copying and pasting:</p>\r\n<p>bugged:</p>\r\n<div><div><div>\n\n```\nif event == \"SPELL_ACTIVATION_OVERLAY_GLOW_SHOW\" or event == \"SPELL_ACTIVATION_OVERLAY_GLOW_SHOW\" then\r\n\n```\n</div></div>\r\n</div><p>fixed:</p>\r\n<div><div><div>\n\n```\nif event == \"SPELL_ACTIVATION_OVERLAY_GLOW_SHOW\" or event == \"SPELL_ACTIVATION_OVERLAY_GLOW_HIDE\" then\r\n\n```\n</div></div>\r\n</div> <div class=\"project-issue-comment-body-modified\"> </div> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/Cybeloras\">Cybeloras</a>","created_at":"2012-02-08T01:30:31Z"},{"body":" <p>Should be fixed now. Open a new ticket if it isn't.</p> <div class=\"project-issue-comment-body-modified\"> </div> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/Cybeloras\">Cybeloras</a>","created_at":"2012-02-09T01:44:50Z"}]}