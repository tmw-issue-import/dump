{"issue":{"title":"[CF 820] attempt to index global 'TellMeWhen_Group5_Icon52' (a nil value) ","body":" <p>Since recently I've been getting this benign error upon login:</p><p>Error occured in: Global<br>Count: 4<br>Message: [string \"Condition_LUA_LUA_BUFFDUR\"] line 3:<br>&nbsp;&nbsp; attempt to index global 'TellMeWhen_Group5_Icon52' (a nil value)<br>Debug:<br>&nbsp;&nbsp; [string \"Condition_LUA_LUA_BUFFDUR\"]:3: CheckFunction()<br>&nbsp;&nbsp; ...eWhen\\Components\\Core\\Conditions\\ConditionObject.lua:267: Check()<br>&nbsp;&nbsp; ...eWhen\\Components\\Core\\Conditions\\ConditionObject.lua:74:<br>&nbsp; &nbsp; &nbsp; ...eWhen\\Components\\Core\\Conditions\\ConditionObject.lua:46<br>&nbsp;&nbsp; (tail call): ?<br>&nbsp;&nbsp; [C]: ?<br>&nbsp;&nbsp; [string \"safecall Dispatcher[3]\"]:9:<br>&nbsp; &nbsp; &nbsp; [string \"safecall Dispatcher[3]\"]:5<br>&nbsp;&nbsp; (tail call): ?<br>&nbsp;&nbsp; ...nterface\\AddOns\\TellMeWhen\\Components\\Core\\Class.lua:68:<br>&nbsp; &nbsp; &nbsp; ...nterface\\AddOns\\TellMeWhen\\Components\\Core\\Class.lua:41<br>&nbsp;&nbsp; ...nterface\\AddOns\\TellMeWhen\\Components\\Core\\Class.lua:412: CallFunc()<br>&nbsp;&nbsp; ...nterface\\AddOns\\TellMeWhen\\Components\\Core\\Class.lua:249:<br>&nbsp; &nbsp; &nbsp; ...nterface\\AddOns\\TellMeWhen\\Components\\Core\\Class.lua:224<br>&nbsp;&nbsp; (tail call): ?<br>&nbsp;&nbsp; ...nents\\Core\\Conditions\\ConditionObjectConstructor.lua:94: Construct()<br>&nbsp;&nbsp; TellMeWhen\\Components\\Core\\Icon.lua:619:<br>&nbsp; &nbsp; &nbsp; TellMeWhen\\Components\\Core\\Icon.lua:570<br>&nbsp;&nbsp; (tail call): ?<br>&nbsp;&nbsp; [C]: ?<br>&nbsp;&nbsp; [string \"safecall Dispatcher[1]\"]:9:<br>&nbsp; &nbsp; &nbsp; [string \"safecall Dispatcher[1]\"]:5<br>&nbsp;&nbsp; (tail call): ?<br>&nbsp;&nbsp; ...nterface\\AddOns\\TellMeWhen\\Components\\Core\\Group.lua:305:<br>&nbsp; &nbsp; &nbsp; ...nterface\\AddOns\\TellMeWhen\\Components\\Core\\Group.lua:259<br>&nbsp;&nbsp; (tail call): ?<br>&nbsp;&nbsp; [C]: ?<br>&nbsp;&nbsp; [string \"safecall Dispatcher[1]\"]:9:<br>&nbsp; &nbsp; &nbsp; [string \"safecall Dispatcher[1]\"]:5<br>&nbsp;&nbsp; (tail call): ?<br>&nbsp;&nbsp; TellMeWhen\\TellMeWhen.lua:2535: Update()<br>&nbsp;&nbsp; TellMeWhen\\TellMeWhen.lua:1628: ?()<br>&nbsp;&nbsp; ...ventory\\Libs\\CallbackHandler\\CallbackHandler-1.0.lua:146:<br>&nbsp; &nbsp; &nbsp; ...ventory\\Libs\\CallbackHandler\\CallbackHandler-1.0.lua:146<br>&nbsp;&nbsp; [string \"safecall Dispatcher[1]\"]:4:<br>&nbsp; &nbsp; &nbsp; [string \"safecall Dispatcher[1]\"]:4<br>&nbsp;&nbsp; [C]: ?<br>&nbsp;&nbsp; [string \"safecall Dispatcher[1]\"]:13: ?()<br>&nbsp;&nbsp; ...ventory\\Libs\\CallbackHandler\\CallbackHandler-1.0.lua:91: Fire()<br>&nbsp;&nbsp; ...rkInventory\\Externals\\Ace3-AceEvent\\AceEvent-3.0.lua:120:<br>&nbsp; &nbsp; &nbsp; ...rkInventory\\Externals\\Ace3-AceEvent\\AceEvent-3.0.lua:119</p><p>Group 5 only has 1 icon. If add rows/columns so that there is a group5_icon52, it's empty.</p> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/AmeroGer\">AmeroGer</a> | Imported from CurseForge issue <a href=\"https://wow.curseforge.com/projects/tellmewhen/issues/820\">#820</a> | <a href=\"https://github.com/tmw-issue-import/dump/blob/master/html/820.html\">Raw</a>","closed":true,"closed_at":"2013-05-28T19:47:04Z","created_at":"2013-05-27T00:18:48Z","updated_at":"2013-05-28T19:47:04Z","labels":["defect","invalid"]},"comments":[{"body":" <p>I need the export string of whatever icon/group/condition passing event/unit conditions that error is coming from (There is no way to tell what icon it is from the stack trace, but I can tell you that it has 2 Lua conditions and a buff duration condition). The error is coming from whatever that first Lua condition is checking.</p> <div class=\"project-issue-comment-body-modified\"> <hr> <span class=\"e-infoLabel\">Edited</span><span> <abbr class=\"tip standard-date standard-datetime\" title=\"05 26 2013 21:20:55 (CST) (UTC-5:00)\" data-epoch=\"1369621255\">May 26, 2013</abbr></span> </div> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/Cybeloras\">Cybeloras</a>","created_at":"2013-05-27T02:17:35Z"},{"body":" <p>So I'm looking for any icon with 2 lua conditions and 1 buff duration condition?</p> <div class=\"project-issue-comment-body-modified\"> </div> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/AmeroGer\">AmeroGer</a>","created_at":"2013-05-27T19:52:33Z"},{"body":" <p>Yeah. They will be in that order, too. The error is in whatever the first Lua condition is checking.</p> <div class=\"project-issue-comment-body-modified\"> </div> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/Cybeloras\">Cybeloras</a>","created_at":"2013-05-28T05:28:18Z"},{"body":" <p>I found it.</p>\r\n<p>^1^T^SType^Scleu ^SName^SSkull`Banner ^SSourceUnit^SGhinz ^SConditions^T ^N1^T ^SType^SLUA ^SName^Smax(TellMeWhen_Group5_Icon52.attributes.duration`-`(time`-`TellMeWhen_Group5_Icon52.attributes.start),`0)`&lt;=`2 ^t^N2^T ^SType^SLUA ^SName^Smax(TellMeWhen_Group5_Icon52.attributes.duration`-`(time`-`TellMeWhen_Group5_Icon52.attributes.start),`0)`&gt;`0 ^t^N3^T ^SType^SBUFFDUR ^SName^SSkull`Banner ^t^Sn^N3 ^t^SEnabled^B ^SCLEUEvents^T ^SSPELL_CAST_SUCCESS^B ^t^SFakeHidden^B ^SCLEUDur^N12 ^t^N62203^S`| ^Sicon^^</p>\r\n<p>This icon was checking itself so I'd have an icon lasting 2 seconds show up exactly 10 seconds after Ghinz had used his Skull Banner. Apparently I deleted a group somewhere along the line and all the group ID's moved up so the lua's in this icon were now referencing an empty/nonexistent icon.</p> <div class=\"project-issue-comment-body-modified\"> </div> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/AmeroGer\">AmeroGer</a>","created_at":"2013-05-28T17:26:41Z"},{"body":" <p>if I were to do it all over again, a GUID based system for keeping track of icons would be one of the most important things in tmw to prevent things like this from happening (it would enable tons of other cool things too), but unfortunately, tmw just wasn't designed from the very beginning around a system like that. perhaps if the next expansion is interesting enough to get me to come back to wow I might see if it could be done. </p> <div class=\"project-issue-comment-body-modified\"> </div> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/Cybeloras\">Cybeloras</a>","created_at":"2013-05-28T18:58:49Z"}]}