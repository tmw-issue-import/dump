{"issue":{"title":"[CF 1023] Icon causing rapidly stacking LUA Error. Was also dropping FPS, but that stopped. ","body":" <p>IMPORTANT: If your issue is only occurring with a specific icon, include an export string of the icon in this ticket. Subsequently, if the issue involves an entire group or an entire profile, include the entire export string of the group or profile.</p><p>To get an export string, open the icon editor, and click button labeled \"Import/Export/Backup\". Select the \"To string\" option for the appropriate export type (icon, group, or profile), and then press CTRL+C to copy it to your clipboard.</p><p>FAILURE TO COMPLY WITH THE ABOVE INSTRUCTIONS WILL RESULT IN YOUR TICKET BEING INVALIDATED.</p><p>Here is the String:</p><p>^1^T^SUnit^Spet ^SType^Smultistate ^SName^SMend~`Pet ^SManaCheck^B ^SRangeCheck^B ^SEnabled^B ^t^N71204^S~`~| ^Sicon^^</p><p>What steps will reproduce the problem?<br>1. Setup an Icon as per String above.<br>2. Summon a Pet on the Hunter.<br>3. Target something.</p><p>What do you expect to happen? What happens instead?</p><p>I expect the icon to function normally, as Mend Pet and Revive Pet do, I believe, qualify as Multi-State Abilities, since the same Button is used for both, depending on whether one's Pet is alive or dead.</p><p>Update - the icon shows as a ? when no pet is summoned, as that causes Mend Pet to change to Revive Pet on my action bar.</p><p>Instead, my fps was crashing to about 10 (Update - the fps drop has suddenly stopped, but it still causes a rapidly-rising Count of the same LUA Error) - I have narrowed it down to this specific Icon.</p><p>Update - the error that counts up rapidly only appears with Range Check enabled.</p><p>What version of TellMeWhen are you using? (\"The latest\" is not a version)</p><p>7.1.2</p><p>Do you have an error log of what happened?</p><p>I just re-enabled display of LUA Errors for this purpose and the two that stand out to my, albeit untrained eye, are this one which keeps counting up:</p><p>Message: ...ponents\\IconTypes\\IconType_multistate\\multistate.lua:164: Icon attribute inRange must be 0, 1, or nil!<br>Time: 11/10/14 15:14:28<br>Count: 604<br>Stack: (tail call): ?<br>[C]: in function `error'<br>[string \"SetInfo alpha; texture; start, duration; ch...\"]:202: in function `?'<br>Interface\\AddOns\\TellMeWhen\\Components\\Core\\Icon.lua:1258: in function `SetInfo'<br>...ponents\\IconTypes\\IconType_multistate\\multistate.lua:164: in function `UpdateFunction'<br>Interface\\AddOns\\TellMeWhen\\Components\\Core\\Icon.lua:652: in function &lt;Interface\\AddOns\\TellMeWhen\\Components\\Core\\Icon.lua:631&gt;<br>(tail call): ?<br>[C]: ?<br>[string \"safecall Dispatcher[1]\"]:9: in function &lt;[string \"safecall Dispatcher[1]\"]:5&gt;<br>(tail call): ?<br>Interface\\AddOns\\TellMeWhen\\TellMeWhen.lua:3140: in function &lt;Interface\\AddOns\\TellMeWhen\\TellMeWhen.lua:3101&gt;</p><p>Locals:</p><p>And this one with a huge Count:</p><p>Message: Interface\\FrameXML\\UIPanelTemplates.lua:119: attempt to perform arithmetic on field 'cursorOffset' (a nil value)<br>Time: 11/10/14 15:13:47<br>Count: 48174<br>Stack: (tail call): ?<br>Interface\\FrameXML\\UIPanelTemplates.lua:119: in function `ScrollingEdit_OnUpdate'<br>Interface\\FrameXML\\UIPanelTemplates.lua:96: in function `ScrollingEdit_OnTextChanged'<br>...e\\AddOns\\Blizzard_DebugTools\\Blizzard_DebugTools.lua:604: in function `ScriptErrorsFrame_Update'<br>...e\\AddOns\\Blizzard_DebugTools\\Blizzard_DebugTools.lua:551: in function `ScriptErrorsFrame_OnError'<br>[string \"Interface\\FrameXML\\BasicControls.xml:&lt;Scrip...\"]:22: in function &lt;[string \"Interface\\FrameXML\\BasicControls.xml:&lt;Scrip...\"]:4&gt;<br>Interface\\AddOns\\Auctionator\\AtrErrorInspector.lua:55: in function &lt;Interface\\AddOns\\Auctionator\\AtrErrorInspector.lua:51&gt;<br>(tail call): ?<br>Interface\\FrameXML\\UIPanelTemplates.lua:119: in function `ScrollingEdit_OnUpdate'<br>Interface\\FrameXML\\UIPanelTemplates.lua:96: in function `ScrollingEdit_OnTextChanged'<br>...e\\AddOns\\Blizzard_DebugTools\\Blizzard_DebugTools.lua:604: in function `ScriptErrorsFrame_Update'<br>...e\\AddOns\\Blizzard_DebugTools\\Blizzard_DebugTools.lua:551: in function `ScriptErrorsFrame_OnError'<br>...<br>[C]: in function `error'<br>[string \"SetInfo alpha; texture; start, duration; ch...\"]:202: in function `?'<br>Interface\\AddOns\\TellMeWhen\\Components\\Core\\Icon.lua:1258: in function `SetInfo'<br>...ponents\\IconTypes\\IconType_multistate\\multistate.lua:164: in function `UpdateFunction'<br>Interface\\AddOns\\TellMeWhen\\Components\\Core\\Icon.lua:652: in function &lt;Interface\\AddOns\\TellMeWhen\\Components\\Core\\Icon.lua:631&gt;<br>(tail call): ?<br>[C]: ?<br>[string \"safecall Dispatcher[1]\"]:9: in function &lt;[string \"safecall Dispatcher[1]\"]:5&gt;<br>(tail call): ?<br>Interface\\AddOns\\TellMeWhen\\TellMeWhen.lua:3140: in function &lt;Interface\\AddOns\\TellMeWhen\\TellMeWhen.lua:3101&gt;</p><p>Locals:</p><p>Please provide any additional information below (including any export strings if applicable; see above.)</p><p>Hopefully I've filled this out correctly (I put the Export String higher up in the post) - this will be my first time reporting an issue with an addon, so I'm a bit of a newbie in that respect.</p><p>Also, I love TMW - could hardly play without it - great work! :)</p> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/mseazo\">mseazo</a> | Imported from CurseForge issue <a href=\"https://wow.curseforge.com/projects/tellmewhen/issues/1023\">#1023</a> | <a href=\"https://github.com/tmw-issue-import/dump/blob/master/html/1023.html\">Raw</a>","closed":true,"closed_at":"2014-11-11T01:42:02Z","created_at":"2014-11-11T00:29:29Z","updated_at":"2014-11-11T04:17:09Z","labels":["defect","duplicate"]},"comments":[{"body":" <p>This was already fixed. Check out the latest alpha versions in the files tab at the top of this page.</p>\r\n<p>Duplicates <a href=\"https://github.com/tmw-issue-import/TellMeWhen/issues?q=%5BCF%201008%5D+in%3Atitle\" rel=\"nofollow\">http://wow.curseforge.com/addons/tellmewhen/tickets/1008-fps-drops-every-time-i-attack/</a></p> <div class=\"project-issue-comment-body-modified\"> <hr> <span class=\"e-infoLabel\">Edited</span><span> <abbr class=\"tip standard-date standard-datetime\" title=\"11 10 2014 21:00:18 (CST) (UTC-6:00)\" data-epoch=\"1415674818\">Nov 10, 2014</abbr></span> </div> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/Cybeloras\">Cybeloras</a>","created_at":"2014-11-11T01:41:09Z"},{"body":" <p>Ah, ok, thanks. :)</p>\r\n<p>Sorry about the duplicate.</p>\r\n<p>Learning that this was a repeat got me to notice the filter settings for tickets that I had overlooked - now I can search through *all* tickets before posting.</p>\r\n<p>Hopefully that will prevent me from making any future duplicates, but with me, you never know. *grin*</p>\r\n<p>Keep up the awesome work! :)</p> <div class=\"project-issue-comment-body-modified\"> <hr> <span class=\"e-infoLabel\">Edited</span><span> <abbr class=\"tip standard-date standard-datetime\" title=\"11 10 2014 22:17:09 (CST) (UTC-6:00)\" data-epoch=\"1415679429\">Nov 10, 2014</abbr></span> </div> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/mseazo\">mseazo</a>","created_at":"2014-11-11T03:00:11Z"}]}