{"issue":{"title":"[CF 468] Event Handler - Duration &amp; Stack ","body":" <p>I will update this ticket when I play a bit more with it but I have noticed sometime if I don't push enter after I add a \"On duration changed - event Handler\" where I specifies Only handle if condition is pasiing. that the addon will throw and error saying I am attempting to compare number with a nil value. The problem doesn't always happen so I can't replicate the problem but I usual fix it by going back in the config removing the number putting it back and press enter before leaving.</p><p>I will update when I can replicate the error all the time and send you a faulty icon.</p><p>Error Log :<br>11x TellMeWhen\\TellMeWhen-5.0.2.lua:1080: attempt to compare nil with number<br>TellMeWhen\\TellMeWhen-5.0.2.lua:1080: in function &lt;TellMeWhen\\TellMeWhen.lua:1080&gt;<br>(tail call): ?<br>TellMeWhen\\TellMeWhen-5.0.2.lua:5001: in function \"ProcessQueuedEvents\"<br>TellMeWhen\\TellMeWhen-5.0.2.lua:3291: in function \"method\"<br>TellMeWhen\\TellMeWhen-5.0.2.lua:1296: in function \"Fire\"<br>TellMeWhen\\TellMeWhen-5.0.2.lua:1612: in function &lt;TellMeWhen\\TellMeWhen.lua:1562&gt;</p><p>Locals:<br>(*temporary) = 0.023000001907349<br>(*temporary) = &lt;func&gt; =[C]:-1</p><p>To Replicate : Doesn't seem to always work but after a reload it always throw this. (You're a Shaman I think so this should replicate the issue for you)<br>^1^T^SShowTimer^B ^SType^Sbuff ^SShowTimerText^B ^SEvents^T ^N1^T ^SPassingCndt^B ^SType^SAnimations ^SAnimation^SACTVTNGLOW ^SEvent^SOnStack ^t^N2^T ^SPassingCndt^B ^SType^SSound ^SValue^N2 ^SSound^SCartoon~`FX ^SEvent^SOnStack ^t^N3^T ^SPassingCndt^B ^SType^SSound ^SValue^N3 ^SSound^SBlizzard:~`Drum~`Hit ^SEvent^SOnStack ^SOperator^S== ^t^Sn^N3 ^t^SEnabled^B ^SName^SWater~`Shield ^t^N50202^S~`~| ^Sicon^^</p><p>Otherwise if it doesn't<br>1. Create an icon to track a buff or debuff with stacks<br>2. Add 3 On stack changed event to it don't configure them yet<br>3. Add random Stack to trigger to all of them but don't press enter after changing just select another one<br>4. Then go all over them to put sound or animation. Then go back to game mode. If it,s a buff the error should trigger when you put the buff on if it,s a debuff apply it to a target.</p><p>Sorry for double edit :<br>One thing I have noticed after doing many many test to trigger it. Is that when you set a duration or stack to an event and you select another event without pressing enter. The time you set on the previous one get dragged to the new one. Can it be possible that since I edit the first one but don't confirm it that it's setting get dragged to another event and the previous one get a nil instead of a valid stacks or duration ?</p> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/InfernalAura\">InfernalAura</a> | Imported from CurseForge issue <a href=\"https://wow.curseforge.com/projects/tellmewhen/issues/468\">#468</a> | <a href=\"https://github.com/tmw-issue-import/dump/blob/master/html/468.html\">Raw</a>","closed":true,"closed_at":"2012-05-02T22:27:02Z","created_at":"2012-03-15T23:15:47Z","updated_at":"2012-05-02T22:27:02Z","labels":["defect","resolved"]},"comments":[{"body":" <p>Please post the error message that you are getting.</p> <div class=\"project-issue-comment-body-modified\"> </div> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/Cybeloras\">Cybeloras</a>","created_at":"2012-03-15T23:29:45Z"},{"body":" <p>Yeah sorry like I said it's kinda random... I can't get it to replicate all the time it might have something to do with the number of handler or other config I am doing after. I will keep trying and get back when I actually get it to throw an error</p> <div class=\"project-issue-comment-body-modified\"> </div> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/InfernalAura\">InfernalAura</a>","created_at":"2012-03-16T00:23:11Z"},{"body":" <p>Thanks - I will see what I can figure out.</p> <div class=\"project-issue-comment-body-modified\"> </div> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/Cybeloras\">Cybeloras</a>","created_at":"2012-03-16T01:12:36Z"},{"body":" <p>I have fixed the issue with settings not saving, but I am still unable to reproduce the error. I think I know what the issue is behind it, and even though I can't figure out why it might be happening, I think I fixed it.</p> <div class=\"project-issue-comment-body-modified\"> </div> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/Cybeloras\">Cybeloras</a>","created_at":"2012-03-16T02:00:27Z"}]}