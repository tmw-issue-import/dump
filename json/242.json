{"issue":{"title":"[CF 242] Two lua error ","body":" <p>World of Warcraft version:4.1<br>\r\nTellMeWhen Version:4.4.2</p>\r\n<p>The 1st lua error happened when i switch talent to secondary spec (primary spec is Protection, secondary spec is Holy). Group setting is unchecked 2nd spec, other option of talent all checked.<br>\r\nThe icon export string:<br>\r\n</p><div><div><div>\n\n```\n^1^T^SShowTimer^B ^SOnlyMine^B ^SType^Sconditionicon ^SEvents^T ^SOnShow^T ^SSound^SBell ^t^t^SConditions^T ^N1^T ^SType^SSPELLCD ^SOperator^S&gt;= ^SName^S20271 ^SPrtsBefore^N1 ^SLevel^N7 ^t^N2^T ^SType^SSPELLCD ^SPrtsAfter^N1 ^SOperator^S&gt;= ^SName^S31935 ^SAndOr^SOR ^SLevel^N14 ^SIcon^STellMeWhen_Group1_Icon2 ^t^N3^T ^SType^SICON ^SIcon^STellMeWhen_Group1_Icon2 ^t^t^SStealable^b ^SFakeHidden^B ^SEnabled^B ^SName^S85433 ^t^N44201^^\r\n\n```\n</div></div>\r\n</div><p><br>\r\nicon of icon shown condition export string:<br>\r\n</p><div><div><div>\n\n```\n^1^T^SShowTimer^B ^SOnlyMine^B ^SType^Sbuff ^SEvents^T ^SOnShow^T ^SSound^SBell ^t^t^SConditions^T ^N1^T ^SType^SHOLY_POWER ^SOperator^S&gt;= ^SLevel^N2 ^t^t^SEnabled^B ^SName^S85433 ^SStealable^b ^t^N44201^^\r\n\n```\n</div></div>\r\n</div>\r\n<p><strong>lua error code:</strong></p>\r\n<p>10x &lt;string&gt;:\"TellMeWhen_Group1_Icon6 Condition\":1: attempt to compare number with nil<br>\r\n&lt;string&gt;:\"TellMeWhen_Group1_Icon6 Condition\":1: in function \"CndtCheck\"<br>\r\nTellMeWhen-4.4.2\\Types\\conditionicon.lua:45: in function \"OnUpdate\"<br>\r\nTellMeWhen\\TellMeWhen-4.4.2.lua:1140: in function &lt;TellMeWhen\\TellMeWhen.lua:1108&gt;<br>\r\nLocals:<br>\r\nicon = TellMeWhen_Group1_Icon6 {<br> 0 = &lt;userdata&gt;<br> SetScript = &lt;func&gt; @..\\TellMeWhen.lua:2328<br> ConditionAlpha = 0<br> <u>vrtxcolor = 1<br> SetAlpha = &lt;func&gt; @..\\TellMeWhen.lua:2293<br> SetReverse = &lt;func&gt; @..\\TellMeWhen.lua:2352<br> </u>normaltex = &lt;unnamed&gt; {}<br> OnUpdate = &lt;func&gt; @..\\Types\\conditionicon.lua:41<br> Type = \"conditionicon\"<br> OnShow = &lt;table&gt; {}<br> cbar = TellMeWhen_Group1_Icon6CooldownBar {}<br> HandleEvent = &lt;func&gt; @..\\TellMeWhen.lua:2257<br> SetInfo = &lt;func&gt; @..\\TellMeWhen.lua:2422<br> Events = &lt;table&gt; {}<br> <u>shown = 1<br> Conditions = &lt;table&gt; {}<br> </u>count = \"UPDATE ME!\"<br> setscript = &lt;func&gt; =[C]:-1<br> group = TellMeWhen_Group1 {}<br> <u>duration = 0<br> pbar = TellMeWhen_Group1_Icon6PowerBar {}<br> </u>start = 0<br> FakeHidden = true<br> countText = TellMeWhen_Group1_Icon6Count {}<br> setalpha = &lt;func&gt; =[C]:-1<br> <u>realDuration = 0<br> </u>reverse = false<br> texture = TellMeWhen_Group1_Icon6Icon {}<br> Enabled = true<br> SetTexture = &lt;func&gt; @..\\TellMeWhen.lua:2341<br> UpdateTimer = 251607.047<br> <u>alpha = 0<br> NameFirst = 85433<br> </u>tex = \"Icons\\Ability_Paladin_JudgementRed\"<br> Name = \"85433\"<br> CndtCheck = &lt;func&gt; TellMeWhen_Group1_Icon6 Condition:0<br> registerevent = &lt;func&gt; =[C]:-1<br> FakeAlpha = 0<br> cooldown = TellMeWhen_Group1_Icon6Cooldown {}<br> RegisterEvent = &lt;func&gt; @..\\TellMeWhen.lua:2347<br>\r\n}<br>\r\ntime = 251607.047<br>\r\nCndtCheck = &lt;func&gt; TellMeWhen_Group1_Icon6 Condition:0<br>\r\nUPD_INTV = 0.06</p> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/lsjyzjl\">lsjyzjl</a> | Imported from CurseForge issue <a href=\"https://wow.curseforge.com/projects/tellmewhen/issues/242\">#242</a> | <a href=\"https://github.com/tmw-issue-import/dump/blob/master/html/242.html\">Raw</a>","closed":true,"closed_at":"2011-06-29T20:03:55Z","created_at":"2011-06-29T11:49:56Z","updated_at":"2011-06-29T20:05:00Z","labels":["defect","resolved"]},"comments":[{"body":" <p><strong>By the way, other lua error was found when I config for talent tree condition.</strong></p>\r\n<p><strong>2nd lua error code:</strong></p>\r\n<p>2x TellMeWhen-4.4.2\\conditions.lua:1009: Usage: GetTalentTabInfo(tabIndex[, isInspect[, isPet[, groupIndex]]])<br>\r\n&lt;in C code&gt;<br>\r\nTellMeWhen-4.4.2\\conditions.lua:1009: in function &lt;TellMeWhen\\conditions.lua:1009&gt;<br>\r\n(tail call): ?<br>\r\nTellMeWhen_Options\\TellMeWhen_Options.lua:3931: in function \"SetValText\"<br>\r\n&lt;string&gt;:\"*:OnValueChanged\":1: in function &lt;string&gt;:\"*:OnValueChanged\":1<br>\r\n&lt;in C code&gt;<br>\r\nTellMeWhen_Options\\TellMeWhen_Options.lua:3954: in function \"SetSliderMinMax\"<br>\r\nTellMeWhen_Options\\TellMeWhen_Options.lua:3369: in function \"func\"<br>\r\nFrameXML\\UIDropDownMenu.lua:638: in function \"UIDropDownMenuButton_OnClick\"<br>\r\n&lt;string&gt;:\"*:OnClick\":1: in function &lt;string&gt;:\"*:OnClick\":1</p>\r\n<p>Locals:<br>\r\n(*temporary) = &lt;func&gt; =[C]:-1<br>\r\n(*temporary) = 2</p> <div class=\"project-issue-comment-body-modified\"> <hr> <span class=\"e-infoLabel\">Edited</span><span> <abbr class=\"tip standard-date standard-datetime\" title=\"06 29 2011 06:55:23 (CST) (UTC-5:00)\" data-epoch=\"1309348523\">Jun 29, 2011</abbr></span> </div> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/lsjyzjl\">lsjyzjl</a>","created_at":"2011-06-29T11:55:12Z"},{"body":" <p>Add condition \"Dual Spec\", the first lua error will not happen.</p> <div class=\"project-issue-comment-body-modified\"> </div> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/lsjyzjl\">lsjyzjl</a>","created_at":"2011-06-29T19:15:23Z"},{"body":" <p>I think I fixed the first one; I'm 99% sure I fixed the second one.</p> <div class=\"project-issue-comment-body-modified\"> </div> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/Cybeloras\">Cybeloras</a>","created_at":"2011-06-29T20:05:00Z"}]}