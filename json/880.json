{"issue":{"title":"[CF 880] Checking which icon a metaicon is currently displaying ","body":" <p>I'm trying to make an icon that will only show if a specified metaicon is currently displaying say it's fifth or lower ranked subicon. Is that possible somehow (with lua)?</p> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/AmeroGer\">AmeroGer</a> | Imported from CurseForge issue <a href=\"https://wow.curseforge.com/projects/tellmewhen/issues/880\">#880</a> | <a href=\"https://github.com/tmw-issue-import/dump/blob/master/html/880.html\">Raw</a>","closed":true,"closed_at":"2013-11-01T02:50:44Z","created_at":"2013-10-20T11:44:38Z","updated_at":"2013-11-03T07:55:16Z","labels":["resolved"]},"comments":[{"body":" <p>You can in g5d92d3d. Use this:</p>\r\n<div><div><div>\n\n```\n(thisobj.__currentIcon and thisobj.IconsLookup[thisobj.__currentIcon:GetGUID()] or 0) &gt;=5\r\n\n```\n</div></div>\r\n</div><p>The following applies to versions after, and including, g300963a:</p>\r\n<p>Also, just a heads up about v7 - I can't remember if you ever had any icons that used Lua conditions that referenced other icons using the TMW[3][7] notation, but if you did, this changed to be TMW.global[3][7] and TMW.profile[3][7].</p>\r\n<p>You can also reference things by GUID in Lua conditions, which may be more useful - shift-click an icon while editing a Lua condition to insert a reference to that icon.</p> <div class=\"project-issue-comment-body-modified\"> <hr> <span class=\"e-infoLabel\">Edited</span><span> <abbr class=\"tip standard-date standard-datetime\" title=\"10 31 2013 01:03:25 (CST) (UTC-5:00)\" data-epoch=\"1383199405\">Oct 31, 2013</abbr></span> </div> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/Cybeloras\">Cybeloras</a>","created_at":"2013-10-31T04:49:17Z"},{"body":" <p>I was trying to add this condition to another icon, not the metaicon itself. So I just replace every instance of \"thisobj\" with shift-click on the metaicon I guess?</p>\r\n<p>Also it seems that when counting subicons the condition is skipping icons in the list that are disabled. This is rather inconvenient for me since I often want to enable/disable icons depending on the fight without having to rewrite conditions on multiple other icons.</p> <div class=\"project-issue-comment-body-modified\"> <hr> <span class=\"e-infoLabel\">Edited</span><span> <abbr class=\"tip standard-date standard-datetime\" title=\"11 1 2013 18:57:58 (CST) (UTC-5:00)\" data-epoch=\"1383350278\">Nov 1, 2013</abbr></span> </div> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/AmeroGer\">AmeroGer</a>","created_at":"2013-11-01T23:11:43Z"},{"body":" <p>Yeah, that's correct.</p>\r\n<p>An alternative way of counting that should be closer to what you are looking for would be:</p>\r\n<div><div><div>\n\n```\n(thisobj.__currentIcon and TMW.tContains(thisobj.Icons, thisobj.__currentIcon:GetGUID()) or 0) &gt;=5\r\n\n```\n</div></div>\r\n</div><p>This won't work quite right if the meta icon is expanding sub-metas - this will check for things exactly as they appear in the configuration.</p> <div class=\"project-issue-comment-body-modified\"> <hr> <span class=\"e-infoLabel\">Edited</span><span> <abbr class=\"tip standard-date standard-datetime\" title=\"11 3 2013 01:55:16 (CST) (UTC-6:00)\" data-epoch=\"1383465316\">Nov 3, 2013</abbr></span> </div> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/Cybeloras\">Cybeloras</a>","created_at":"2013-11-03T07:51:45Z"}]}