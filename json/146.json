{"issue":{"title":"[CF 146] Meta Icon error/Tukui compatibility ","body":" <p>What steps will reproduce the problem?<br>1. Enable TukUI or ElvUI<br>2. Set a TMW icon to Meta<br>3. read error log :P</p><p>What version of TellMeWhen are you using? (\"The latest\" is not a version)<br>v4.0.0.7beta7 and 3.0.4a release<br>Do you have an error log of what happened?</p><p>Date: 2011-03-25 20:14:04<br>ID: 2<br>Error occured in: Global<br>Count: 1<br>Message: ..\\AddOns\\TellMeWhen\\TellMeWhen.lua line 2843:<br>&nbsp;&nbsp; attempt to perform arithmetic on field 'Height' (a function value)<br>Debug:<br>&nbsp;&nbsp; (tail call): ?<br>&nbsp;&nbsp; TellMeWhen\\TellMeWhen.lua:2843:<br>&nbsp; &nbsp; &nbsp; TellMeWhen\\TellMeWhen.lua:2834<br>&nbsp;&nbsp; TellMeWhen\\TellMeWhen.lua:3235: Icon_Update()<br>&nbsp;&nbsp; TellMeWhen\\TellMeWhen.lua:1315: Group_Update()<br>&nbsp;&nbsp; TellMeWhen\\TellMeWhen.lua:1020:<br>&nbsp; &nbsp; &nbsp; TellMeWhen\\TellMeWhen.lua:1000<br>&nbsp;&nbsp; (tail call): ?<br>&nbsp;&nbsp; [C]: ?<br>&nbsp;&nbsp; [string \"safecall Dispatcher[2]\"]:9:<br>&nbsp; &nbsp; &nbsp; [string \"safecall Dispatcher[2]\"]:5<br>&nbsp;&nbsp; (tail call): ?<br>&nbsp;&nbsp; Ace3\\AceTimer-3.0\\AceTimer-3.0.lua:164:<br>&nbsp; &nbsp; &nbsp; Ace3\\AceTimer-3.0\\AceTimer-3.0.lua:138</p><p>Please provide any additional information below.</p><p>I believe this error is related to Ticket #134 - New error with Meta Icons<br>Same error also occurs with enabling power/cd bars.</p><p>The issue is between the Icon_Bars_Update(icon) function and TukUI (and modifications)<br>This was unable to be rectified by TukUI with a patch (<a href=\"http://www.tukui.org/forums/topic.php?id=9071&view=all\" rel=\"nofollow\">http://www.tukui.org/forums/topic.php?id=9071&amp;amp;view=all</a>)</p><p>Applying this echo of the Width fix to Height and all errors i have encountered disappeared completely.</p><p>TellMeWhen.lua</p><p>&nbsp; 2838&nbsp; &nbsp; &nbsp; icon.Width = tonumber(icon.Width) or 36*0.9&nbsp;&nbsp; &nbsp; --hack to prevent icon.Width from being a function (wtf? why is that even happening?)<br>+2839&nbsp; &nbsp; &nbsp; icon.Height = tonumber(icon.Height) or 36*0.9</p><p>Cheers for the awesome addon btw ;)</p> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/sicotic1\">sicotic1</a> | Imported from CurseForge issue <a href=\"https://wow.curseforge.com/projects/tellmewhen/issues/146\">#146</a> | <a href=\"https://github.com/tmw-issue-import/dump/blob/master/html/146.html\">Raw</a>","closed":true,"closed_at":"2011-03-26T06:31:22Z","created_at":"2011-03-25T20:34:20Z","updated_at":"2011-03-26T06:31:22Z","labels":["defect","resolved"]},"comments":[{"body":" <p>Now I feel dumb for having only only applied that to the width. I should have known that the height was probably being messed with too. Thanks for the report, and thank you for the link to that thread; it all makes sense now.</p> <div class=\"project-issue-comment-body-modified\"> </div> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/Cybeloras\">Cybeloras</a>","created_at":"2011-03-26T06:31:12Z"}]}