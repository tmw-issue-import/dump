{"issue":{"title":"[CF 425] The big ticket of rewriting for 5.0.0 ","body":" <p>I wanted to make a list so that I wont forget. Here it is:</p>\r\n<ul><li><del>Segregate conditions and icon types completely (unless both are OnUpdate driven, then call them at the same time)</del>\r\n<ul><li><del>This probably won't happen</del>\r\n<ul><li><ins>This has happened as much as it needs to happen to have things OnEvent driven.</ins>\r\n</li></ul></li></ul></li><li><ins>Allow conditions to be purely event driven if all component conditions are event-driven (or can be event driven without side effects)</ins>\r\n</li><li><ins>Allow icons to be purely event driven if possible (CLEU, ICD, UCD, DR - I'm looking at you)</ins>\r\n<ul><li><del>This could prove challenging because of things like the duration conditional settings, and other settings like range check and power check that have no reliable events (at least range check doesnt)</del>\r\n</li><li><ins>Work has begun on this - still many icon types need this implemented, though.</ins>\r\n<ul><li><ins>Work complete.</ins>\r\n</li></ul></li></ul></li><li><ins>When a condition or icon type handler is called, do processing for that function, and then call a method to update the icon based on cached condition state or current icon state (texture, timer, etc)</ins>\r\n<ul><li><ins>Good enough for now. Condition states are cached and only updated when needed, as explained above. If I get event-driven icons implemented then this will need to be expanded.</ins>\r\n<ul><li><ins>Expanded this enough to have the needed functionality. But I already said this.</ins>\r\n</li></ul></li></ul></li><li><del>Capture all results from iterations (instead of trying to sort duration as we iterate, etc)</del>\r\n<ul><li><del>I don't like this anymore. At least not now.</del>\r\n</li></ul></li><li><del>Also use the same code to keep states from CLEU, ICD, UCD, DR event triggers, etc. The problem is distinguishing between states that should be kept between each update (CLEU, ICD, UCD, DR states) and states that should be refreshed each time (buff/debuff, cooldown)</del>\r\n<ul><li><del>I don't like this anymore. At least not now.</del>\r\n</li></ul></li><li><del>These changes will allow an entire group to be handled by a single icon type - display the first state on the first icon, the second on the second, etc;</del> <ins>group should still be able to be sorted by duration, etc.</ins>\r\n</li><li><ins>This will also allow icons to be sorted by other things, too. Like stacks. I don't know what else it could be sorted by, though.</ins>\r\n</li><li><del>Bars. Real ones.</del>\r\n<ul><li><del> Maybe some other time.</del></li></ul></li></ul> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/Cybeloras\">Cybeloras</a> | Imported from CurseForge issue <a href=\"https://wow.curseforge.com/projects/tellmewhen/issues/425\">#425</a> | <a href=\"https://github.com/tmw-issue-import/dump/blob/master/html/425.html\">Raw</a>","closed":true,"closed_at":"2012-02-15T00:14:25Z","created_at":"2012-01-16T04:03:34Z","updated_at":"2012-02-15T00:14:25Z","labels":["resolved"]},"comments":[{"body":" <p><ins>IMPORTANT: make sure condition event handler funcs always get cleared when they should be (icon isnt used by group, icon doesnt have conditions, etc)</ins></p> <div class=\"project-issue-comment-body-modified\"> <hr> <span class=\"e-infoLabel\">Edited</span><span> <abbr class=\"tip standard-date standard-datetime\" title=\"02 11 2012 00:53:43 (CDT) (UTC-6:00)\" data-epoch=\"1328943223\">Feb 11, 2012</abbr></span> </div> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/Cybeloras\">Cybeloras</a>","created_at":"2012-01-27T06:03:54Z"},{"body":" <p><ins>Group option: collapse hidden (push all shown icons towards icon id 1)</ins></p>\r\n<ul><li>This can be done with the new sort methods.</li></ul> <div class=\"project-issue-comment-body-modified\"> <hr> <span class=\"e-infoLabel\">Edited</span><span> <abbr class=\"tip standard-date standard-datetime\" title=\"02 11 2012 00:53:18 (CDT) (UTC-6:00)\" data-epoch=\"1328943198\">Feb 11, 2012</abbr></span> </div> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/Cybeloras\">Cybeloras</a>","created_at":"2012-01-29T08:36:15Z"}]}