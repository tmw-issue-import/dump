{"issue":{"title":"[CF 934] Bad Argument and Announcement issue ","body":" <p>I have 2 error messages. One occurs when I login and the other when I call '/TMW'.</p><p>1. Message: Bad argument #2 (className) to \"Namespace:NewClass(className, ...)\". Expected string, got nil<br>2. Message: ...en\\Components\\EventHandlers\\Announcements\\Config.lua line 32:<br>&nbsp;&nbsp; attempt to index local 'Announcements' (a nil value)</p><p>What steps will reproduce the problem?<br>1. Error comes up as soon as I log into any of my toons<br>2. The second error comes up when I type /TMW in the chat window.</p><p>What do you expect to happen? What happens instead?<br>Not expecting anything with the first error. Expecting the TMW config window to open with the second error. It opens, but with an error.</p><p>I am not seeing any problems using TMW despite the errors.</p><p>What version of TellMeWhen are you using? (\"The latest\" is not a version)<br>6.2.6-310g0bcbfba</p><p>Do you have an error log of what happened?</p><p>Date: 2014-03-19 11:38:27<br>ID: 1<br>Error occured in: Global<br>Count: 2<br>Message: Bad argument #2 (className) to \"Namespace:NewClass(className, ...)\". Expected string, got nil<br>Debug:<br>&nbsp;&nbsp; [C]: ?<br>&nbsp;&nbsp; ...erface\\AddOns\\TellMeWhen\\Lib\\LibOO-1.0\\LibOO-1.0.lua:97:<br>&nbsp; &nbsp; &nbsp; ...erface\\AddOns\\TellMeWhen\\Lib\\LibOO-1.0\\LibOO-1.0.lua:57<br>&nbsp;&nbsp; ...erface\\AddOns\\TellMeWhen\\Lib\\LibOO-1.0\\LibOO-1.0.lua:329:<br>&nbsp; &nbsp; &nbsp; ...erface\\AddOns\\TellMeWhen\\Lib\\LibOO-1.0\\LibOO-1.0.lua:328<br>&nbsp;&nbsp; (tail call): ?<br>&nbsp;&nbsp; ...onents\\EventHandlers\\Announcements\\Announcements.lua:46: in main chunk<br>Locals:<br>(*temporary) = \"Bad argument #2 (className) to \"Namespace:NewClass(className, ...)\". Expected string, got nil\"</p><p>AddOns:<br>&nbsp; Swatter, v4.4.1 (&lt;%codename%&gt;)<br>&nbsp; WowheadLooter, v50006<br>&nbsp; Ace3, v<br>&nbsp; AckisRecipeList, v2.6.2<br>&nbsp; AckisRecipeListQuickScan, v5.4.0.-1.0.8<br>&nbsp; ACP, v3.4.7<br>&nbsp; Altoholic, v5.4.001<br>&nbsp; Archy, v1.8.43<br>&nbsp; Astrolabe, v1.0<br>&nbsp; Atlas, v1.26.02<br>&nbsp; AtlasArena, v1.5.04<br>&nbsp; AtlasBattlegrounds, v1.26.00<br>&nbsp; AtlasBurningCrusade, v1.26.00<br>&nbsp; AtlasCataclysm, v1.26.00<br>&nbsp; AtlasClassicWoW, v1.26.00<br>&nbsp; AtlasDungeonLocs, v1.26.00<br>&nbsp; AtlasOutdoorRaids, v1.26.00<br>&nbsp; AtlasScenarios, v1.26.00<br>&nbsp; AtlasTransportation, v1.26.04<br>&nbsp; AtlasWorldEvents, v3.06<br>&nbsp; AtlasWrathoftheLichKing, v1.26.00<br>&nbsp; AtlasLoot, vv7.07.02<br>&nbsp; AtlasLootCataclysm, vv7.07.02<br>&nbsp; AtlasLootClassicWoW, vv7.07.02<br>&nbsp; AtlasLootLoader, vv7.07.02<br>&nbsp; AtlasLootMistsofPandaria, vv7.07.02<br>&nbsp; AtlasMajorCitiesEnhanced, vv1.02<br>&nbsp; AtlasQuest, v4.8.8<br>&nbsp; AucAdvanced, v5.19.5445 (QuiescentQuoll)<br>&nbsp; AucFilterBasic, v5.19.5445 (QuiescentQuoll)<br>&nbsp; AucFilterOutlier, v5.19.5445.5437(5.19/embedded)<br>&nbsp; AucMatchUndercut, v5.19.5445.5364(5.19/embedded)<br>&nbsp; AucStatHistogram, v5.19.5445 (QuiescentQuoll)<br>&nbsp; AucStatiLevel, v5.19.5445 (QuiescentQuoll)<br>&nbsp; AucStatPurchased, v5.19.5445 (QuiescentQuoll)<br>&nbsp; AucStatSales, v5.19.5445.5376(5.19/embedded)<br>&nbsp; AucStatSimple, v5.19.5445 (QuiescentQuoll)<br>&nbsp; AucStatStdDev, v5.19.5445 (QuiescentQuoll)<br>&nbsp; AucStatWOWEcon, v5.19.5445.5323(5.19/embedded)<br>&nbsp; AucUtilAHWindowControl, v5.19.5445.5347(5.19/embedded)<br>&nbsp; AucUtilAppraiser, v5.19.5445.5438(5.19/embedded)<br>&nbsp; AucUtilAskPrice, v5.19.5445.5347(5.19/embedded)<br>&nbsp; AucUtilAutoMagic, v5.19.5445.5443(5.19/embedded)<br>&nbsp; AucUtilCompactUI, v5.19.5445.5444(5.19/embedded)<br>&nbsp; AucUtilEasyBuyout, v5.19.5445.5427(5.19/embedded)<br>&nbsp; AucUtilFixAH, v5.19.5445 (QuiescentQuoll)<br>&nbsp; AucUtilItemSuggest, v5.19.5445.5417(5.19/embedded)<br>&nbsp; AucUtilPriceLevel, v5.19.5445.5444(5.19/embedded)<br>&nbsp; AucUtilScanButton, v5.19.5445.5403(5.19/embedded)<br>&nbsp; AucUtilScanFinish, v5.19.5445.5347(5.19/embedded)<br>&nbsp; AucUtilScanProgress, v5.19.5445.4979(5.19/embedded)<br>&nbsp; AucUtilScanStart, v5.19.5445.5347(5.19/embedded)<br>&nbsp; AucUtilSearchUI, v5.19.5445.5373(5.19/embedded)<br>&nbsp; AucUtilSimpleAuction, v5.19.5445.5415(5.19/embedded)<br>&nbsp; AucUtilVendMarkup, v5.19.5445.4828(5.19/embedded)<br>&nbsp; AutoDecliner, v1.5<br>&nbsp; AutoDing, v5.1<br>&nbsp; Babylonian, v5.1.DEV.332(/embedded)<br>&nbsp; BadBoy, v12.200<br>&nbsp; BadBoyCCleaner, v3.66<br>&nbsp; BadBoyGuilded, v2.93<br>&nbsp; BadBoyHistory, v1.34<br>&nbsp; BattlePetDailyTamer, v1.2.10<br>&nbsp; BattlePetsCollector, v5.1.0.9<br>&nbsp; BeanCounter, v5.19.5445 (QuiescentQuoll)<br>&nbsp; BeQuiet, v1.1.0<br>&nbsp; BigWigs, v4.446<br>&nbsp; BigWigsAutoReply, v1.12<br>&nbsp; BrokerCPU, v50001<br>&nbsp; BrokerQC, v.70<br>&nbsp; BrokerSkills, v1.0<br>&nbsp; BuyEmAll, v3.1.8<br>&nbsp; Carbonite, v5.4.2 alpha 5<br>&nbsp; CarboniteInfo, v1.0<br>&nbsp; CarboniteNotes, v1.1<br>&nbsp; CarboniteQuests, v1.0<br>&nbsp; CarboniteSocial, v1.0<br>&nbsp; CarboniteTransfer, v1.01<br>&nbsp; CarboniteWarehouse, v1.0<br>&nbsp; CarboniteWeekly, v1.0<br>&nbsp; Configator, v5.1.DEV.359(/embedded)<br>&nbsp; DataStore, v5.4.001<br>&nbsp; DataStoreAchievements, v5.4.001<br>&nbsp; DataStoreAgenda, v5.4.001<br>&nbsp; DataStoreAuctions, v5.4.001<br>&nbsp; DataStoreCharacters, v5.4.001<br>&nbsp; DataStoreContainers, v5.4.001<br>&nbsp; DataStoreCrafts, v5.4.001<br>&nbsp; DataStoreCurrencies, v5.4.001<br>&nbsp; DataStoreInventory, v5.4.001<br>&nbsp; DataStoreMails, v5.4.001<br>&nbsp; DataStorePets, v5.4.001<br>&nbsp; DataStoreQuests, v5.4.001<br>&nbsp; DataStoreReputations, v5.4.001<br>&nbsp; DataStoreSpells, v5.4.001<br>&nbsp; DataStoreStats, v5.4.001<br>&nbsp; DataStoreTalents, v5.4.001<br>&nbsp; DBMCore, v<br>&nbsp; DBMStatusBarTimers, v<br>&nbsp; DebugLib, v5.1.DEV.337(/embedded)<br>&nbsp; EMLib, v<br>&nbsp; Enchantrix, v5.19.5445 (QuiescentQuoll)<br>&nbsp; EnchantrixBarker, v5.19.5445 (QuiescentQuoll)<br>&nbsp; FishingBuddy, v1.3b<br>&nbsp; FlightMap, v5.4.0.0<br>&nbsp; FlightMapEnhanced, v1.5.36<br>&nbsp; Gatherer, v4.4.1<br>&nbsp; GatherMate2, v1.27<br>&nbsp; GearScore, v5.2.0<br>&nbsp; GFWDiggerAid, v5.0.1<br>&nbsp; GFWDisenchantPredictor, v4.3<br>&nbsp; GFWHoverTips, v4.3<br>&nbsp; GreedyQuester, v5.4.0<br>&nbsp; GTFO, v4.30<br>&nbsp; LibAboutPanel, v1.52-1-gaebddb0<br>&nbsp; LibChatAnims, v<br>&nbsp; LibExtraTip, v5.12.DEV.355(/embedded)<br>&nbsp; LibSharedMedia30, v3.0-86<br>&nbsp; LibStub, v<br>&nbsp; LightHeaded, v370<br>&nbsp; Livestock, v1.9.8<br>&nbsp; MoveAnything, v13.9.0<br>&nbsp; Omen, v3.1.8<br>&nbsp; Outfitter, v5.9.3<br>&nbsp; Pawn, v1.8.11<br>&nbsp; Postal, v3.5.1<br>&nbsp; Quartz, v3.1.4<br>&nbsp; QuestCompletist, v100.0<br>&nbsp; Rawr, v4.0.0.4<br>&nbsp; Recount, v<br>&nbsp; RecycleBin, v2.3.1<br>&nbsp; ReforgeLite, v1.37<br>&nbsp; Routes, vv1.4.2-8-g4b93fad<br>&nbsp; SellOMatic2, va053<br>&nbsp; SellOMatic2Item, va053<br>&nbsp; SpeedyLoad, v2.2.0<br>&nbsp; Stubby, v5.19.5445 (QuiescentQuoll)<br>&nbsp; TellMeWhen, v7.0.0<br>&nbsp; TipHelper, v5.12.DEV.351(/embedded)<br>&nbsp; Titan, v5.2.3.50400<br>&nbsp; TomTom, vv50400-1.0.0<br>&nbsp; BlizRuntimeLib_enUS v5.4.7.50400 &lt;us&gt;<br>&nbsp; (ck=10c5)</p><p>Date: 2014-03-19 11:48:39<br>ID: 2<br>Error occured in: Global<br>Count: 1<br>Message: ...en\\Components\\EventHandlers\\Announcements\\Config.lua line 32:<br>&nbsp;&nbsp; attempt to index local 'Announcements' (a nil value)<br>Debug:<br>&nbsp;&nbsp; [C]: ?<br>&nbsp;&nbsp; ...en\\Components\\EventHandlers\\Announcements\\Config.lua:32: in main chunk<br>&nbsp;&nbsp; [C]: ?<br>&nbsp;&nbsp; TellMeWhen\\TellMeWhen.lua:3517: LoadOptions()<br>&nbsp;&nbsp; TellMeWhen\\TellMeWhen.lua:3120: Update()<br>&nbsp;&nbsp; TellMeWhen\\TellMeWhen.lua:3401: LockToggle()<br>&nbsp;&nbsp; TellMeWhen\\TellMeWhen.lua:3496: ?()<br>&nbsp;&nbsp; ...erface\\AddOns\\Ace3\\AceConsole-3.0\\AceConsole-3.0.lua:94: ?()<br>&nbsp;&nbsp; ..\\FrameXML\\ChatFrame.lua:4315: ChatEdit_ParseText()<br>&nbsp;&nbsp; ..\\FrameXML\\ChatFrame.lua:3969: ChatEdit_SendText()<br>&nbsp;&nbsp; ..\\FrameXML\\ChatFrame.lua:4008: ChatEdit_OnEnterPressed()<br>&nbsp;&nbsp; [string \"*:OnEnterPressed\"]:1:<br>&nbsp; &nbsp; &nbsp; [string \"*:OnEnterPressed\"]:1<br>Locals:</p><p>AddOns:<br>... (Deleted for sake of redundancy)</p><p>Please provide any additional information below (including any export strings if applicable; see above.)<br>These issues are global and are not profile specific, or at least that's how it seems to me.</p> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/Hendo72\">Hendo72</a> | Imported from CurseForge issue <a href=\"https://wow.curseforge.com/projects/tellmewhen/issues/934\">#934</a> | <a href=\"https://github.com/tmw-issue-import/dump/blob/master/html/934.html\">Raw</a>","closed":true,"closed_at":"2014-03-19T23:36:01Z","created_at":"2014-03-19T16:00:05Z","updated_at":"2014-03-19T23:36:01Z","labels":["defect","duplicate"]},"comments":[{"body":" <p>I have the same issue</p>\r\n<div><div><div>\n\n```\nMessage: Bad argument #2 (className) to \"Namespace:NewClass(className, ...)\". Expected string, got nil\r\nTime: 03/19/14 18:38:55\r\nCount: 1\r\nStack: [C]: ?\r\n...erface\\AddOns\\TellMeWhen\\Lib\\LibOO-1.0\\LibOO-1.0.lua:97: in function &lt;...erface\\AddOns\\TellMeWhen\\Lib\\LibOO-1.0\\LibOO-1.0.lua:57&gt;\r\n...erface\\AddOns\\TellMeWhen\\Lib\\LibOO-1.0\\LibOO-1.0.lua:329: in function &lt;...erface\\AddOns\\TellMeWhen\\Lib\\LibOO-1.0\\LibOO-1.0.lua:328&gt;\r\n(tail call): ?\r\n...onents\\EventHandlers\\Announcements\\Announcements.lua:46: in main chunk\r\n\r\nLocals: (*temporary) = \"Bad argument #2 (className) to \"Namespace:NewClass(className, ...)\". Expected string, got nil\"\r\n\n```\n</div></div>\r\n</div><p>Version: 6.2.6-310-g0bcbfba</p>\r\n<p>Using <a href=\"http://wow.curseforge.com/addons/tellmewhen/forum/warrior/59530-stanos-prot-warrior-tell-me-when-setup/\" rel=\"nofollow\">this</a> TMW Icon setup</p> <div class=\"project-issue-comment-body-modified\"> <hr> <span class=\"e-infoLabel\">Edited</span><span> <abbr class=\"tip standard-date standard-datetime\" title=\"03 19 2014 11:44:03 (CDT) (UTC-5:00)\" data-epoch=\"1395247443\">Mar 19, 2014</abbr></span> </div> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/mOOwalker\">mOOwalker</a>","created_at":"2014-03-19T16:43:27Z"},{"body":" <p>See <a href=\"https://github.com/tmw-issue-import/TellMeWhen/issues?q=%5BCF%20933%5D+in%3Atitle\" rel=\"nofollow\">http://wow.curseforge.com/addons/tellmewhen/tickets/933-7-lua-errors-6-2-6-310/</a></p> <div class=\"project-issue-comment-body-modified\"> </div> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/Cybeloras\">Cybeloras</a>","created_at":"2014-03-19T23:35:53Z"}]}