{"issue":{"title":"[CF 1373] can i force a spell cooldown icon to be visible even when a spell is not learned? ","body":" <p>i have the following group set for my moonkin druid:</p>\r\n<p>&nbsp;</p>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td style=\"text-align:center\">(screenshot made in configuration mode) <br><br> <img src=\"https://i.imgur.com/t8h9Oy2.jpg\" alt=\"moonkin icon group \" width=\"358\" height=\"187\"></td>\r\n<td style=\"text-align:center\">(and a screenshot made in regular use mode) <br><img src=\"https://i.imgur.com/ql1MvQn.jpg\" alt=\"moonkin regular use mode\" width=\"348\" height=\"236\"></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n<p>&nbsp;</p>\r\n<p>&nbsp;</p>\r\n<p><strong>Can you please add a second checkbox to the icon configuration screen?</strong></p>\r\n<p><strong> next to the checkbox for \"Always Hide\" please add another one, for \"Always Show\" to stop hiding icons even when the spell they track is not learned/available. Keep it at the opacity level set by the \"Not ready\" slider but do not disable the icon.<br></strong></p>\r\n<p>&nbsp;</p>\r\n<p>My problem is that pretty much the first time after that i'm getting in combat in an instance (not much in open world though) i'm getting XML errors that blame TMW and i suspect it might be because of the fact that moonkin spell rotation involves learning and forgetting spells all the time during combat, which in turn cause the spell cooldown icons for those spells to be disabled and enabled.</p>\r\n<p>&nbsp;</p>\r\n<p>&nbsp;</p>\r\n<p><strong>Spells learned and removed during combat:</strong></p>\r\n<p>Scythe of Elune artifact spell <strong>New Moon</strong> (&nbsp;<a href=\"http://www.wowhead.com/spell=202767/new-moon\" rel=\"nofollow\">http://www.wowhead.com/<strong>spell=202767</strong>/new-moon</a> ) is removed during combat and replaced after casting by Half Moon, (&nbsp;<a href=\"http://www.wowhead.com/spell=202768/half-moon\" rel=\"nofollow\">http://www.wowhead.com/<strong>spell=202768</strong>/half-moon</a> ), which in turn is removed and replaced after casting by Full Moon, (&nbsp;<a href=\"http://www.wowhead.com/spell=202771/full-moon\" rel=\"nofollow\">http://www.wowhead.com/<strong>spell=202771</strong>/full-moon</a> ), which is again removed and replaced after casting by New Moon.. and the rotation starts again.</p>\r\n<p>&nbsp;</p>\r\n<p>I think this causes TMW to go nuts with disabling and enabling the icons for those spells and since i set up separate icons to track each moon state this will cause the XML errors in combat.</p>\r\n<p>&nbsp;</p>\r\n<p>&nbsp;</p>\r\n<div>\n\n```\n^1^T^SGUID^STMW:group:1OSyPC3xdLuE ^SScale^F6880505395937282 ^f-52^SRows ^N3^SPoint ^T^Sy^F-6440665586797800 ^f-46^Sx ^F-5745926195048276^f-45 ^t^SColumns^N6 ^SIcons^T ^N1^T ^SStates^T ^N1^T ^t^N3^T ^t^N4^T ^t^t^t^N2^T ^SType^Sbuff ^SName^SMoonkin~`Form ^SEnabled^B ^SEvents^T ^N1^T ^SAnimColor^Sbfff0000 ^SFade^b ^SType^SAnimations ^SOnlyShown^B ^SAnimation^SICONFLASH ^SEvent^SWCSP ^SOnConditionConditions^T ^N1^T ^SType^SCOMBAT ^t^N2^T ^SType^SBUFFSTACKS ^SName^SMoonkin~`Form ^t^Sn^N2 ^t^t^Sn^N1 ^t^SSettingsPerView^T ^Sicon^T ^STexts^T ^N1^S ^N2^SMoonkin? ^t^t^t^SStates^T ^N1^T ^SAlpha^N0.2 ^t^N2^T ^SAlpha^N0.8 ^t^N3^T ^t^N4^T ^t^t^t^N3^T ^SType^Sbuff ^SName^SBlessing~`of~`Elune ^SEnabled^B ^SEvents^T ^N1^T ^SAnimColor^Sbfff0000 ^SFade^b ^SType^SAnimations ^SOnlyShown^B ^SAnimation^SICONFLASH ^SEvent^SWCSP ^SOnConditionConditions^T ^N1^T ^SType^SBUFFSTACKS ^SName^SBlessing~`of~`Elune ^t^Sn^N1 ^t^t^Sn^N1 ^t^SSettingsPerView^T ^Sicon^T ^STexts^T ^N1^S ^N2^Sbless ^t^t^t^SStates^T ^N1^T ^SAlpha^N0.2 ^t^N2^T ^SAlpha^N0.8 ^t^N3^T ^t^N4^T ^t^t^t^N4^T ^SStates^T ^N1^T ^t^N3^T ^t^N4^T ^t^t^t^N5^T ^SType^Sconditionicon ^SName^SStarsurge ^SConditions^T ^N1^T ^SType^SLUNAR_POWER ^SOperator^S&gt;= ^SLevel^N40 ^t^Sn^N1 ^t^SEvents^T ^N1^T ^SType^SAnimations ^SOnlyShown^B ^SAnimation^SACTVTNGLOW ^SEvent^SWCSP ^SOnConditionConditions^T ^N1^T ^SType^SLUNAR_POWER ^SOperator^S&gt;= ^SLevel^N55 ^t^Sn^N1 ^t^t^Sn^N1 ^t^SManaCheck^B ^SSettingsPerView^T ^Sicon^T ^STextLayout^Sicon1 ^STexts^T ^N1^S ^N2^SsuRge ^t^t^t^SCustomTex^SStarsurge ^SStates^T ^N1^T ^SAlpha^N0.8 ^t^N2^T ^SAlpha^N0.2 ^t^N3^T ^t^N4^T ^SAlpha^N0.2 ^t^t^SEnabled^B ^t^N6^T ^SType^Sconditionicon ^SEnabled^B ^SConditions^T ^N1^T ^SType^SLIBRANGECHECK ^SUnit^Starget ^SOperator^S&lt;= ^SLevel^N45 ^t^Sn^N1 ^t^SSettingsPerView^T ^Sicon^T ^STexts^T ^N2^S[Range(\"target\")] ^t^t^t^SCustomTex^S56911 ^SStates^T ^N1^T ^SAlpha^N0.8 ^t^N2^T ^SAlpha^N0.4 ^t^N3^T ^t^N4^T ^t^t^t^N7^T ^SShowTimer^B ^SType^Scooldown ^SShowTimerText^B ^SName^STyphoon ^SEnabled^B ^SSettingsPerView^T ^Sicon^T ^STexts^T ^N1^SY ^t^t^t^SStates^T ^N1^T ^SAlpha^N0.8 ^t^N2^T ^SAlpha^N0.3 ^t^N3^T ^t^N4^T ^t^t^t^N8^T ^SShowTimer^B ^SType^Scooldown ^SName^SBarkskin ^SShowTimerText^B ^SEnabled^B ^SSettingsPerView^T ^Sicon^T ^STexts^T ^N2^SG ^t^t^t^SStates^T ^N1^T ^SAlpha^N0.8 ^t^N2^T ^SAlpha^N0.3 ^t^N3^T ^t^N4^T ^t^t^t^N9^T ^SShowTimer^B ^SType^Scooldown ^SName^SRenewal ^SShowTimerText^B ^SEnabled^B ^SSettingsPerView^T ^Sicon^T ^STexts^T ^N2^SJ ^t^t^t^SStates^T ^N1^T ^SAlpha^N0.8 ^t^N2^T ^SAlpha^N0.3 ^t^N3^T ^t^N4^T ^t^t^t^N10^T ^SShowTimer^B ^SType^Sbuff ^SName^SSolar~`Empowerment ^SShowTimerText^B ^SEnabled^B ^SEvents^T ^N1^T ^SType^SAnimations ^SOnlyShown^B ^SAnimation^SACTVTNGLOW ^SEvent^SWCSP ^SOnConditionConditions^T ^N1^T ^SType^SBUFFSTACKS ^SOperator^S&gt;= ^SLevel^N1 ^SName^SSolar~`Empowerment ^t^Sn^N1 ^t^t^Sn^N1 ^t^SSettingsPerView^T ^Sicon^T ^STextLayout^Sicon1 ^STexts^T ^N1^SQ3 ^N2^S[Stacks:Hide(0)] ^t^t^t^SCustomTex^S211089 ^SStates^T ^N1^T ^SAlpha^N0.8 ^t^N2^T ^SAlpha^N0.2 ^t^N3^T ^t^N4^T ^t^t^t^N11^T ^SStates^T ^N1^T ^t^N3^T ^t^N4^T ^t^t^t^N12^T ^SShowTimer^B ^SType^Sbuff ^SName^SLunar~`Empowerment ^SShowTimerText^B ^SEnabled^B ^SEvents^T ^N1^T ^SType^SAnimations ^SOnlyShown^B ^SAnimation^SACTVTNGLOW ^SEvent^SWCSP ^SOnConditionConditions^T ^N1^T ^SType^SBUFFSTACKS ^SOperator^S&gt;= ^SLevel^N1 ^SName^SLunar~`Empowerment ^t^Sn^N1 ^t^t^Sn^N1 ^t^SSettingsPerView^T ^Sicon^T ^STextLayout^Sicon1 ^STexts^T ^N1^SE ^t^t^t^SCustomTex^S164547 ^SStates^T ^N1^T ^SAlpha^N0.8 ^t^N2^T ^SAlpha^N0.2 ^t^N3^T ^t^N4^T ^t^t^t^N13^T ^SStates^T ^N1^T ^t^N3^T ^t^N4^T ^t^t^t^N14^T ^SStates^T ^N1^T ^t^N3^T ^t^N4^T ^t^t^t^N15^T ^SShowTimer^B ^SType^Scooldown ^SName^SNew~`Moon ^SShowTimerText^B ^SEnabled^B ^SSettingsPerView^T ^Sicon^T ^STexts^T ^N1^S ^N2^S[Stacks:Hide(0)] ^t^t^t^SCustomTex^S202767 ^SStates^T ^N1^T ^SAlpha^N0.8 ^t^N2^T ^SAlpha^N0.3 ^t^N3^T ^t^N4^T ^t^t^t^N16^T ^SShowTimer^B ^SType^Scooldown ^SShowTimerText^B ^SName^SHalf~`Moon ^SEnabled^B ^SSettingsPerView^T ^Sicon^T ^STexts^T ^N1^S ^N2^S[Stacks:Hide(0)] ^t^t^t^SCustomTex^S202768 ^SStates^T ^N1^T ^SAlpha^N0.8 ^t^N2^T ^SAlpha^N0.3 ^t^N3^T ^t^N4^T ^t^t^t^N17^T ^SShowTimer^B ^SType^Scooldown ^SName^SFull~`Moon ^SShowTimerText^B ^SEnabled^B ^SSettingsPerView^T ^Sicon^T ^STexts^T ^N1^S ^N2^S[Stacks:Hide(0)] ^t^t^t^SCustomTex^S202771 ^SStates^T ^N1^T ^SAlpha^N0.8 ^t^N2^T ^SAlpha^N0.3 ^t^N3^T ^t^N4^T ^t^t^t^N18^T ^SShowTimer^B ^SType^Sbuff ^SName^SOwlkin~`Frenzy ^SShowTimerText^B ^SEnabled^B ^SEvents^T ^N1^T ^SType^SAnimations ^SOnlyShown^B ^SAnimation^SACTVTNGLOW ^SEvent^SWCSP ^SOnConditionConditions^T ^N1^T ^SType^SBUFFSTACKS ^SOperator^S&gt;= ^SLevel^N1 ^SName^SOwlkin~`Frenzy ^t^Sn^N1 ^t^t^Sn^N1 ^t^SSettingsPerView^T ^Sicon^T ^STexts^T ^N1^SOWL ^N2^S ^t^t^t^SCustomTex^S157228 ^SStates^T ^N1^T ^SAlpha^N0.8 ^t^N2^T ^SAlpha^N0.2 ^t^N3^T ^t^N4^T ^t^t^t^t^t^N82501^S~`~| ^Sgroup^N1 ^^\r\n\r\n\n```\n</div>\r\n<p>(also on&nbsp;<a href=\"http://pastebin.com/D79UWQfi\" rel=\"nofollow\">http://pastebin.com/D79UWQfi</a> )</p>\r\n<p>&nbsp;</p>\r\n<p>and the error message is pretty vague...</p>\r\n<p>&nbsp;</p>\r\n<div>\n\n```\nMessage: Note: AddOn TellMeWhen attempted to call a protected function (ActionButton2:Show()) during combat lockdown.\r\nDebug:\r\n   [C]: Show()\r\n   ..\\FrameXML\\ActionButton.lua:330: ActionButton_Update()\r\n   ..\\FrameXML\\ActionButton.lua:300: ActionButton_UpdateAction()\r\n   ..\\FrameXML\\ActionBarController.lua:135: ActionBarController_UpdateAll()\r\n   ..\\FrameXML\\ActionBarController.lua:64:\r\n      ..\\FrameXML\\ActionBarController.lua:53\r\nLocals:\r\nNone\r\n\n```\n</div>\r\n<p>&nbsp;</p>\r\n<p>&nbsp;</p>\r\n<p>&nbsp;</p> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/Adrian_G2\">Adrian_G2</a> | Imported from CurseForge issue <a href=\"https://wow.curseforge.com/projects/tellmewhen/issues/1373\">#1373</a> | <a href=\"https://github.com/tmw-issue-import/dump/blob/master/html/1373.html\">Raw</a>","closed":true,"closed_at":"2017-02-12T02:09:31Z","created_at":"2017-02-04T16:35:40Z","updated_at":"2017-02-12T10:34:31Z","labels":["declined","enhancement"]},"comments":[{"body":" <p>P.S. also, as another use for this:</p>\r\n<p>as a BM hunter i can sometimes cast Battle Res if i have the correct pet summoned</p>\r\n<p><a href=\"http://www.wowhead.com/spell=126393/eternal-guardian\" rel=\"nofollow\">http://www.wowhead.com/spell=126393/eternal-guardian</a></p>\r\n<p><a href=\"http://www.wowhead.com/spell=159956/dust-of-life\" rel=\"nofollow\">http://www.wowhead.com/spell=159956/dust-of-life</a></p>\r\n<p><a href=\"http://www.wowhead.com/spell=159931/gift-of-chi-ji\" rel=\"nofollow\">http://www.wowhead.com/spell=159931/gift-of-chi-ji</a></p>\r\n<p>&nbsp;</p>\r\n<p>but the spell icon will get disabled if i don't have the correct pet active and i cannot then see the raid-wide BR cooldown and BR stacks.</p>\r\n<p>&nbsp;</p>\r\n<p>However, if i summon that pet before the start of the combat i can then switch mid-combat to another pet and the BR cooldown/stacks icon remains visible and it's working to track the raid-wide things, even if the spell is not usable by me at the moment.</p>\r\n<p>&nbsp;</p>\r\n<p><strong>We could really use an option to force a spell cooldown+stacks icon to always be visible even if the spell is not learned at the moment.</strong></p> <div class=\"project-issue-comment-body-modified\"> <hr> <span class=\"e-infoLabel\">Edited</span><span> <abbr class=\"tip standard-date standard-datetime\" title=\"02 12 2017 04:34:31 (CST) (UTC-6:00)\" data-epoch=\"1486895671\">Feb 12, 2017</abbr></span> </div> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/Adrian_G2\">Adrian_G2</a>","created_at":"2017-02-11T10:49:48Z"},{"body":" <p>Track the spell by ID if you want to be able to always see the icon.</p>\r\n<p>&nbsp;</p>\r\n<p>Regarding the error you posted: This has nothing to do with what you described as the suspected cause. In fact, it has nothing to do with TellMeWhen at all. Here's my canned response for this error that I wrote many years ago:</p>\r\n<p>&nbsp;</p>\r\n<p style=\"font-family:Calibri;font-size:11.0pt\">This is the result of Blizzard's bugged taint catcher. TellMeWhen is most certainly not trying to show or hide your action bars.</p>\r\n<p style=\"font-family:Calibri;font-size:11.0pt\">&nbsp;</p>\r\n<p style=\"font-family:Calibri;font-size:11.0pt\">Unfortunately, there is nothing that I can do to help fix this until Blizzard updates their tant catcher to provide more useful information about why the taint is getting blamed on TellMeWhen. Is it a global variable that I'm tainting? Is it a library that TMW embeds that is causing the taint? Is a local variable getting tainted somewhere by TMW, or one of TMW's libs, calling a function that is modifying a local variable that is scoped outside a function? Is it a member variable of a frame widget somewhere that is getting tainted? The list goes on and on and on. Currently, there is no way to tell. Since these errors aren't actually causing adverse behavior (they're just annoying), I won't be trying to investigate why they are happening. Its like trying to find a needle in a haystack.</p> <div class=\"project-issue-comment-body-modified\"> <hr> <span class=\"e-infoLabel\">Edited</span><span> <abbr class=\"tip standard-date standard-datetime\" title=\"02 11 2017 20:10:25 (CST) (UTC-6:00)\" data-epoch=\"1486865425\">Feb 11, 2017</abbr></span> </div> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/Cybeloras\">Cybeloras</a>","created_at":"2017-02-12T02:09:31Z"}]}