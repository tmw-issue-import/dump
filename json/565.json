{"issue":{"title":"[CF 565] 'script ran too long' ","body":" <p>What steps will reproduce the problem?<br>1. Had this come up while killing Van in AV- export below</p><p>What version of TellMeWhen are you using? (\"The latest\" is not a version)<br>6.0.2</p><p>Do you have an error log of what happened?<br>Message: ..\\AddOns\\TellMeWhen\\TellMeWhen.lua line 3287: script ran too long<br>full report: <a href=\"http://pastebin.com/T8scca5x\" rel=\"nofollow\">http://pastebin.com/T8scca5x</a></p><p>and</p><p>Message: [string \"safecall Dispatcher[4]\"] line 9: script ran too long<br>full report: <a href=\"http://pastebin.com/ciYUVxut\" rel=\"nofollow\">http://pastebin.com/ciYUVxut</a></p><p>Please provide any additional information below (including any export strings if applicable; see above.)<br>full export: <a href=\"http://pastebin.com/5xQK89rX\" rel=\"nofollow\">http://pastebin.com/5xQK89rX</a></p><p>Stuff going on at the time:<br>[ ~20 people in Van's room ]<br>[10:51:28] [Brotems][Bloodlust]<br>[10:51:28] [B] [85:Totemnotto-Kil]: all in!!!!<br>[10:51:29] Swatter caught error: [Global]<br>[10:51:29] Swatter caught error: [Global]<br>[10:51:29] [Pr√Øest][Power Word: Barrier]<br>[10:51:29] Wing Commander Mulverick yells: I come for you, puny Alliance!</p><p>Hope this is helpful! Thanks again for your work on this incredible addon.</p> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/kaustos\">kaustos</a> | Imported from CurseForge issue <a href=\"https://wow.curseforge.com/projects/tellmewhen/issues/565\">#565</a> | <a href=\"https://github.com/tmw-issue-import/dump/blob/master/html/565.html\">Raw</a>","closed":true,"closed_at":"2012-10-18T06:06:11Z","created_at":"2012-08-31T16:03:15Z","updated_at":"2012-10-18T06:06:57Z","labels":["defect","declined"]},"comments":[{"body":" <p>This makes me cry. Not only because I'm forced to comply with Blizzard's completely arbitrary execution cap, but also because this error isn't happening during config or anything. Its happening during normal usage.</p>\r\n<p>However, I have no idea why it is happening. Using your profile, even if I completely disable the update interval and all event based updating, it doesn't even get near Blizzard's execution cap.</p>\r\n<p>Now, the second error is the most interesting because I can actually see what was going on when it happened. Group 5's condition just started passing, and so the group was shown. The error occurred when trying to show the group. I can't imagine why simply showing a group would cause such a great deal of CPU strain.</p>\r\n<p>I supposed the only way I might understand this is if I ask, </p>\r\n<p>What CPU and graphics card do you have in your computer?</p> <div class=\"project-issue-comment-body-modified\"> </div> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/Cybeloras\">Cybeloras</a>","created_at":"2012-09-02T07:10:54Z"},{"body":" <p>I play on a laptop and it does struggle a bit in heavy raids but it's not quite a dinosaur. Dell Studio 1535- Core 2 Duo @ 2ghz, ATI Radeon HD 3400, 3gb ram.</p>\r\n<p>I got a similar 'script ran too long' error tonight with DBM while in LFR, the moment we engaged Ultraxion. No idea if it's related, Blizzards fault, DBM bug, other random broken addons or just an issue of an older system.\r\n<a href=\"http://pastebin.com/0G2g3Fb0\" rel=\"nofollow\">http://pastebin.com/0G2g3Fb0</a>\r\n<a href=\"http://pastebin.com/cntMu6Ym\" rel=\"nofollow\">http://pastebin.com/cntMu6Ym</a></p>\r\n<p>Anything I can do to help debug?</p> <div class=\"project-issue-comment-body-modified\"> </div> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/kaustos\">kaustos</a>","created_at":"2012-09-03T19:17:10Z"},{"body":" <p>Well, the first error is happening during a :Show() (same as the first error with TMW), which suggests to me that there may be another addon hooking the :Show() method and causing it to slow down. Or, it may be some issue related to your hardware, but I don't think that this would be the case.</p>\r\n<p>The second DBM error is probably just a side-effect of the first error. Not worried about that one.</p>\r\n<p>Although, after doing some research just now, you aren't the only one getting this: </p>\r\n<p><a href=\"http://www.curse.com/addons/wow/deadly-boss-mods\" rel=\"nofollow\">http://www.curse.com/addons/wow/deadly-boss-mods</a> (see the comments, especially page 2)</p>\r\n<p>The best way you can help, or at least all I can think of right now, is just to keep posting these errors (even for other addons). Especially if you can find a circumstance where you can reliably reproduce the issue.</p> <div class=\"project-issue-comment-body-modified\"> </div> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/Cybeloras\">Cybeloras</a>","created_at":"2012-09-04T00:16:34Z"},{"body":" <p>Got the same error tonight. This time I was alone soloing Onyxia and I have 60 vsync'd fps in her lair. The error occurred 2 seconds after starting combat, though I'm not sure if I had her targeted already or if the error was at the moment I targeted her. But, it's triggering only when I target a raid boss (Van before) and isn't system performance related, something somehow borked with that icon group. I was in a utterly massive 40+v40+ pvp brawl in Durotar and Elwynn Forest today (holy shit@crossrealm zones), where I was getting literally 4 fps already from the damn uber leafy trees and didn't receive any errors at all.</p>\r\n<p>It's also only happening on my druids profile. Cleared Firelands and Solo'd Onyxia on my rogue just prior and didn't get any such errors, despite using a lot of the exact same groups. I've included an export of my rogues profile as well.\r\nedit: Well, I take that back partially. Got the same error on my rogue when I got jumped by a level 90 guard. </p>\r\n<p>error1: <a href=\"http://pastebin.com/kw0ncMRU\" rel=\"nofollow\">http://pastebin.com/kw0ncMRU</a>\r\nerror2: <a href=\"http://pastebin.com/nM6Dt2Jc\" rel=\"nofollow\">http://pastebin.com/nM6Dt2Jc</a>\r\nupdated export from druid: <a href=\"http://pastebin.com/ve83nnu2\" rel=\"nofollow\">http://pastebin.com/ve83nnu2</a>\r\nrogue profile export:<a href=\"http://pastebin.com/LziNUgwB\" rel=\"nofollow\">http://pastebin.com/LziNUgwB</a></p> <div class=\"project-issue-comment-body-modified\"> <hr> <span class=\"e-infoLabel\">Edited</span><span> <abbr class=\"tip standard-date standard-datetime\" title=\"09 5 2012 04:08:02 (CST) (UTC-5:00)\" data-epoch=\"1346836082\">Sep 5, 2012</abbr></span> </div> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/kaustos\">kaustos</a>","created_at":"2012-09-05T07:14:58Z"},{"body":" <p>Had a similar error pop while setting up against the Training Dummy\r\napologies, not sure why it truncated the error</p>\r\n<p>1x TellMeWhen-r597\\Lib\\21LibDogTag-3.0-90203\\Parser.lua:1784: script ran too long\r\nTellMeWhen-r597\\Lib\\21LibDogTag-3.0-90203\\Parser.lua:1784: in function \"ColorizeCode\"\r\nComponents\\IconModules\\IconModule_Texts\\Config.lua:1230: in function \"Entry_AddToList\"\r\nTellMeWhen-r597\\Components\\Core\\Suggester\\Suggester.lua:192: in function \"SuggestingComplete\"\r\nTellMeWhen-r597\\Components\\Core\\Suggester\\Suggester.lua:116: in function \"DoSuggest\"\r\nTellMeWhen-r597\\Components\\Core\\Suggester\\Suggester.lua:300: in function \"NameOnCursor\"\r\nTellMeWhen-r597\\Components\\Core\\Suggester\\Suggester.lua:327: in function &lt;TellMeWhen\\Components\\Core\\Suggester\\Suggester.lua:314&gt;\r\n&lt;in C code&gt;</p>\r\n<p>Locals:\r\nself = &lt;table&gt; { showColorHelp = false noTexture = true NewModule = &lt;func&gt; @AdiBags\\libs\\..\\AceAddon-3.0.lua:256 EnableModule = &lt;func&gt; @AdiBags\\libs\\..\\AceAddon-3.0.lua:348 modules = &lt;table&gt; {} GetModule = &lt;func&gt; @AdiBags\\libs\\..\\AceAddon-3.0.lua:231 IterateEmbeds = &lt;func&gt; @AdiBags\\libs\\..\\AceAddon-3.0.lua:458 defaultModuleLibraries = &lt;table&gt; {} Sorter = &lt;func&gt; @TellMeWhen\\Components\\IconModules\\IconModule_Texts\\Config.lua:1283 helpText = \"The following are tags that you may wish to use in this text display. Using a substitution will cause it to be replaced with the appropriate data wherever it is displayed.</p>\r\n<p>For more information about these tags, and for more tags, click this button.</p>\r\n<p>Clicking on an entry will insert it into the editbox.\" GetName = &lt;func&gt; @AdiBags\\libs\\..\\AceAddon-3.0.lua:300 name = \"TellMeWhen_Suggester_dogtags\" IsEnabled = &lt;func&gt; @AdiBags\\libs\\..\\AceAddon-3.0.lua:467 orderedModules = &lt;table&gt; {} DisableModule = &lt;func&gt; @AdiBags\\libs\\..\\AceAddon-3.0.lua:366 helpOnClick = &lt;func&gt; @TellMeWhen\\Components\\IconModules\\IconModule_Texts\\Config.lua:1142 OnSuggest = &lt;func&gt; @TellMeWhen\\Components\\IconModules\\IconModule_Texts\\Config.lua:1151 headerText = \"DogTags:\" IsModule = &lt;func&gt; @AdiBags\\libs\\..\\AceAddon-3.0.lua:238 SetDefaultModuleState = &lt;func&gt; @AdiBags\\libs\\..\\AceAddon-3.0.lua:403 InvalidEntries = &lt;table&gt; {} SetEnabledState = &lt;func&gt; @AdiBags\\libs\\..\\AceAddon-3.0.lua:440 Table_GetSorter = &lt;func&gt; @TellMeWhen\\Components\\IconModules\\IconModule_Texts\\Config.lua:1286 enabledState = true baseName = \"TellMeWhen_Options\" SetDefaultModulePrototype = &lt;func&gt; @AdiBags\\libs\\..\\AceAddon-3.0.lua:425 Entry_Insert = &lt;func&gt; @TellMeWhen\\Components\\IconModules\\IconModule_Texts\\Config.lua:1179 SetDefaultModuleLibraries = &lt;func&gt; @AdiBags\\libs\\..\\AceAddon-3.0.lua:383 noTab = true Enable = &lt;func&gt; @AdiBags\\libs\\..\\AceAddon-3.0.lua:315 IterateModules = &lt;func&gt; @AdiBags\\libs\\..\\AceAddon-3.0.lua:453 Table_GetNormalSuggestions = &lt;func&gt; @TellMeWhen\\Components\\IconModules\\IconModule_Texts\\Config.lua:1159 noMin = true Entry_AddToList_1 = &lt;func&gt; @TellMeWhen\\Components\\IconModules\\IconModule_Texts\\Config.lua:1228 moduleName = \"dogtags\" defaultModuleState = true Disable = &lt;func&gt; @AdiBags\\libs\\..\\AceAddon-3.0.lua:330\r\n}\r\nf = TellMeWhen_IconEditorSuggestItem15 { 0 = &lt;userdata&gt; Name = TellMeWhen_IconEditorSuggestItem15Name {} ID = TellMeWhen_IconEditorSuggestItem15ID {} Background = TellMeWhen_IconEditorSuggestItem15Background {} Icon = TellMeWhen_IconEditorSuggestItem15Icon {}\r\n}\r\ntagName = \"Stacks:Hide('0')\"\r\ntag = \"[Stacks:Hide('0')]\"\r\nDogTag = &lt;table&gt; { unparse = &lt;func&gt; @TellMeWhen\\Lib\\LibDogTag-3.0\\Parser.lua:1219 select2 = &lt;func&gt; @TellMeWhen\\Lib\\LibDogTag-3.0\\Helpers.lua:155 callbackToFunction = &lt;table&gt; {} hasEvent = &lt;func&gt; @TellMeWhen\\Lib\\LibDogTag-3.0\\Events.lua:159 IterateFactions = &lt;func&gt; @TellMeWhen\\Lib\\LibDogTag-Unit-3.0\\Categories\\Reputation.lua:47 callbackToExtraArg = &lt;table&gt; {} <u>colors = &lt;table&gt; {} Tags = &lt;table&gt; {} CleanCode = &lt;func&gt; @TellMeWhen\\Lib\\LibDogTag-3.0\\Parser.lua:1581 codeToFunction = &lt;table&gt; {} newDict = &lt;func&gt; @Interfac</u></p> <div class=\"project-issue-comment-body-modified\"> </div> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/tlon\">tlon</a>","created_at":"2012-09-11T05:50:12Z"},{"body":" <p><cite>@<a href=\"https://github.com/tmw-issue-import/TellMeWhen/issues?q=%5BCF%20565%5D+in%3Atitle\" rel=\"nofollow\">tlon</a>: <a href=\"https://github.com/tmw-issue-import/TellMeWhen/issues?q=%5BCF%20565%5D+in%3Atitle\" rel=\"nofollow\">Go</a></cite></p>\r\n<p>This is why I was so hesitant to allow configuration in combat again.</p>\r\n<p>There is no way for me to fix these errors without plunging into TellMeWhen and tearing out half its code.</p>\r\n<p>If they happen while configuring in combat, you will just have to deal with them. If they break something, you might have to reload. If you end up losing settings (highly unlikely), or if I start getting spammed with people reporting these errors, then I will probably disabled config in combat again.</p> <div class=\"project-issue-comment-body-modified\"> <hr> <span class=\"e-infoLabel\">Edited</span><span> <abbr class=\"tip standard-date standard-datetime\" title=\"10 18 2012 01:05:55 (CST) (UTC-5:00)\" data-epoch=\"1350540355\">Oct 18, 2012</abbr></span> </div> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/Cybeloras\">Cybeloras</a>","created_at":"2012-09-11T06:29:40Z"},{"body":" <p><cite>@<a href=\"https://github.com/tmw-issue-import/TellMeWhen/issues?q=%5BCF%20565%5D+in%3Atitle\" rel=\"nofollow\">tlon</a>: <a href=\"https://github.com/tmw-issue-import/TellMeWhen/issues?q=%5BCF%20565%5D+in%3Atitle\" rel=\"nofollow\">Go</a></cite></p>\r\n<p>This is why I was so hesitant to allow configuration in combat again.</p>\r\n<p>There is no way for me to fix these errors without plunging into TellMeWhen and tearing out half its code.</p>\r\n<p>If they happen while configuring in combat, you will just have to deal with them. If they break something, you might have to reload. If you end up losing settings (highly unlikely), or if I start getting spammed with people reporting these errors, then I will probably disabled config in combat again.</p>\r\n<p>See <a href=\"https://github.com/tmw-issue-import/TellMeWhen/issues?q=%5BCF%20649%5D+in%3Atitle\" rel=\"nofollow\">http://wow.curseforge.com/addons/tellmewhen/tickets/649-help-lua-line-227-bad-argument-1-to-pairs-table-expected/</a> for the current plan for allowing configuration while in combat.</p> <div class=\"project-issue-comment-body-modified\"> <hr> <span class=\"e-infoLabel\">Edited</span><span> <abbr class=\"tip standard-date standard-datetime\" title=\"10 18 2012 01:06:57 (CST) (UTC-5:00)\" data-epoch=\"1350540417\">Oct 18, 2012</abbr></span> </div> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/Cybeloras\">Cybeloras</a>","created_at":"2012-10-18T06:04:39Z"}]}