{"issue":{"title":"[CF 488] No reaction on mount event ","body":" <p>Addon version: 5.0.2</p><p>Icon export:</p><p>^1^T^SShowWhen^Salways ^SType^Sbuff ^SName^SCrusader~`Aura ^SCustomTex^S32223 ^SConditions^T ^N1^T ^SType^SBUFFDUR ^SName^SCrusader~`Aura ^t^N2^T ^SType^SMOUNTED ^t^N3^T ^SType^SBUFFDUR ^SChecked^B ^SOperator^S~|= ^SName^SCrusader~`Aura ^SAndOr^SOR ^t^N4^T ^SType^SMOUNTED ^SLevel^N1 ^t^Sn^N4 ^t^SEnabled^B ^t^N50202^S~`~| ^Sicon^^</p><p>When I turn off Crusader Aura while mounted - icon is shown (ok).<br>When I turn on Crusader Aura while mounted - icon is hidden (ok).<br>When I turn on Crusader Aura while not mounted - icon is shown (ok).<br>When I turn off Crusader Aura while not mounted - icon is hidden (ok).</p><p>When I dismount while Crusader Aura is on - icon is shown (ok).<br>When I dismount while Crusader Aura is off - icon is hidden (ok).<br>When I mount while Crusader Aura is on - icon is not always hidden (failure).<br>When I mount while Crusader Aura is off - icon is not always shown (failure).</p> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/CuteBunny\">CuteBunny</a> | Imported from CurseForge issue <a href=\"https://wow.curseforge.com/projects/tellmewhen/issues/488\">#488</a> | <a href=\"https://github.com/tmw-issue-import/dump/blob/master/html/488.html\">Raw</a>","closed":true,"closed_at":"2012-05-04T21:28:09Z","created_at":"2012-04-28T13:53:43Z","updated_at":"2012-05-04T21:28:09Z","labels":["defect","resolved"]},"comments":[{"body":"<strong>Attachment Added:</strong><a href=\"https://media.forgecdn.net/attachments/76/227/WoWScrnShot_042812_165324.jpg\" target=\"_blank\"> WoWScrnShot_042812_165324.jpg</a><br> <a class=\"e-avatar128 lightbox\" href=\"https://media.forgecdn.net/attachments/76/227/WoWScrnShot_042812_165324.jpg\" title=\"WoWScrnShot_042812_165324.jpg\"> <img src=\"https://media.forgecdn.net/attachments/thumbnails/76/227/126/126/WoWScrnShot_042812_165324.jpg\"> </a> <div class=\"attachment-desc\"> <h4 class=\"attachment-title\">WoWScrnShot_042812_165324.jpg</h4> <p>&lt;p&gt;Icon is shown after mounting&lt;/p&gt;</p> </div> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/CuteBunny\">CuteBunny</a>","created_at":"2012-04-28T13:53:43Z"},{"body":" <p>It looks to me like you need to add parenthesis around each pair of conditions.</p>\r\n<p>Let me know if this works:</p>\r\n<p><code>^1^T^SType^Sbuff ^SShowWhen^Salways ^SCustomTex^S32223 ^SEnabled^B ^SName^SCrusader~`Aura ^SConditions^T ^N1^T ^SType^SBUFFDUR ^SName^SCrusader~`Aura ^SPrtsBefore^N1 ^t^N2^T ^SType^SMOUNTED ^SPrtsAfter^N1 ^t^N3^T ^SType^SBUFFDUR ^SChecked^B ^SOperator^S~|= ^SName^SCrusader~`Aura ^SPrtsBefore^N1 ^SAndOr^SOR ^t^N4^T ^SType^SMOUNTED ^SPrtsAfter^N1 ^SLevel^N1 ^t^Sn^N4 ^t^t^N50202^S~`~| ^Sicon^^</code></p> <div class=\"project-issue-comment-body-modified\"> </div> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/Cybeloras\">Cybeloras</a>","created_at":"2012-04-28T15:36:17Z"},{"body":" <p>It does not fix this issue, I have checked. Looks like mount event does not trigger properly under some specific conditions while dismount seems to work fine.</p> <div class=\"project-issue-comment-body-modified\"> <hr> <span class=\"e-infoLabel\">Edited</span><span> <abbr class=\"tip standard-date standard-datetime\" title=\"04 29 2012 06:29:32 (CST) (UTC-5:00)\" data-epoch=\"1335698972\">Apr 29, 2012</abbr></span> </div> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/CuteBunny\">CuteBunny</a>","created_at":"2012-04-28T22:33:07Z"},{"body":" <p>Hmmm... I will see what I can do, then.</p> <div class=\"project-issue-comment-body-modified\"> </div> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/Cybeloras\">Cybeloras</a>","created_at":"2012-04-30T03:52:24Z"},{"body":" <p>Try r498 and let me know if it fixes the problem.</p> <div class=\"project-issue-comment-body-modified\"> </div> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/Cybeloras\">Cybeloras</a>","created_at":"2012-05-02T01:17:29Z"},{"body":" <p>Once I type '/tmw' I get this error:</p>\r\n<p>Message: ...ace\\AddOns\\TellMeWhen_Options\\TellMeWhen_Options.lua:5692: hooksecurefunc(): tagError is not a function\r\nTime: 05/02/12 14:54:04\r\nCount: 1\r\nStack: [C]: in function `hooksecurefunc'\r\n...ace\\AddOns\\TellMeWhen_Options\\TellMeWhen_Options.lua:5692: in main chunk\r\n[C]: ?\r\nInterface\\AddOns\\TellMeWhen\\TellMeWhen.lua:3032: in function `LoadOptions'\r\nInterface\\AddOns\\TellMeWhen\\TellMeWhen.lua:1769: in function `Update'\r\nInterface\\AddOns\\TellMeWhen\\TellMeWhen.lua:6489: in function `LockToggle'\r\nInterface\\AddOns\\TellMeWhen\\TellMeWhen.lua:6528: in function `?'\r\n...\\AddOns\\Aloft\\Libs\\AceConsole-3.0\\AceConsole-3.0.lua:94: in function `?'\r\nInterface\\FrameXML\\ChatFrame.lua:4293: in function &lt;Interface\\FrameXML\\ChatFrame.lua:4239&gt;\r\n[C]: in function `ChatEdit_ParseText'\r\nInterface\\FrameXML\\ChatFrame.lua:3992: in function &lt;Interface\\FrameXML\\ChatFrame.lua:3991&gt;\r\n[C]: in function `ChatEdit_SendText'\r\nInterface\\FrameXML\\ChatFrame.lua:4031: in function `ChatEdit_OnEnterPressed'\r\n[string \"*:OnEnterPressed\"]:1: in function &lt;[string \"*:OnEnterPressed\"]:1&gt;</p>\r\n<p>Locals: </p>\r\n<p>Once I right click any icon I get another 24 lua errors.</p> <div class=\"project-issue-comment-body-modified\"> </div> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/CuteBunny\">CuteBunny</a>","created_at":"2012-05-02T11:55:33Z"},{"body":" <p>Yeah, I forgot to update DogTag and it also seems to be not loading properly. Discussion on this issue can be found in ticket #491</p> <div class=\"project-issue-comment-body-modified\"> </div> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/Cybeloras\">Cybeloras</a>","created_at":"2012-05-02T21:27:11Z"},{"body":" <p>Everything should be working in 504</p> <div class=\"project-issue-comment-body-modified\"> </div> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/Cybeloras\">Cybeloras</a>","created_at":"2012-05-02T21:37:34Z"},{"body":" <p>Looks like I get exactly the same bunch of errors (r504).</p> <div class=\"project-issue-comment-body-modified\"> </div> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/CuteBunny\">CuteBunny</a>","created_at":"2012-05-03T17:53:11Z"},{"body":" <p>Are you sure it is r504? Have you restarted WoW after installing it?</p> <div class=\"project-issue-comment-body-modified\"> </div> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/Cybeloras\">Cybeloras</a>","created_at":"2012-05-03T22:25:16Z"},{"body":" <p>Yes, checked it again. Same. You can try it yourself if you don't trust me.</p> <div class=\"project-issue-comment-body-modified\"> </div> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/CuteBunny\">CuteBunny</a>","created_at":"2012-05-03T23:08:17Z"},{"body":" <p>Just tried it with TMW r507 as the only addon in my AddOns folder and everything works just fine. Could you post one of the errors that you are getting?</p> <div class=\"project-issue-comment-body-modified\"> </div> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/Cybeloras\">Cybeloras</a>","created_at":"2012-05-03T23:39:15Z"},{"body":" <p>First I will try r507 this evening.</p> <div class=\"project-issue-comment-body-modified\"> </div> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/CuteBunny\">CuteBunny</a>","created_at":"2012-05-04T08:45:09Z"},{"body":" <p>r507 seems to work fine and fix this issue. Thanks for your work!</p> <div class=\"project-issue-comment-body-modified\"> </div> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/CuteBunny\">CuteBunny</a>","created_at":"2012-05-04T18:16:34Z"}]}