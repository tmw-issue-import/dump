{"issue":{"title":"[CF 1618] More source/destination condition fuckery ","body":" <p>^1^T^SType^Scleu ^SSourceUnit^Sarena1-3 ^SCLEUDur^N2 ^SName^SLeg~`Sweep;~`Kidney~`Shot;~`Mighty~`Bash;~`Maim;~`Disarm;~`Dismantle ^SGUID^STMW:icon:1RqjhrhizTyW ^SCLEUEvents^T ^SSPELL_CAST_SUCCESS^B ^t^SSettingsPerView^T ^Sicon^T ^STextLayout^STMW:textlayout:1OGdypbfDA7b ^STexts^T ^N1^SImmuned~`[Spell]! ^t^t^t^SCustomTex^Sblank ^SStates^T ^N1^T ^t^N3^T ^t^N4^T ^t^t^SDestUnit^Splayer ^SEnabled^B ^SDestConditions^T ^N1^T ^SType^SBUFFDUR ^SOperator^S~|= ^SName^SBladestorm ^t^Sn^N1 ^t^t^N85506^S~`~| ^Sicon^^</p>\r\n<p>^1 ^T^N1^T ^SName^SPT~`Sans~`Narrow ^SConstrainWidth^b ^SStringName^SNumber ^t^SGUID^STMW:textlayout:1OGdypbfDA7b ^SName^SCenter~`Number~`2 ^t^N85506^S~`~| ^Stextlayout^STMW:textlayout:1OGdypbfDA7b ^^</p>\r\n<p>&nbsp;</p>\r\n<p>This event should trigger when someone casts one of the tracked spells on me, with the destination filtering it on me so it only procs when I am also bladestorming. But I still this icon when I am not bladestorming, and also when those spells are cast on other people while I am bladestorming.</p> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/Jalopyy\">Jalopyy</a> | Imported from CurseForge issue <a href=\"https://wow.curseforge.com/projects/tellmewhen/issues/1618\">#1618</a> | <a href=\"https://github.com/tmw-issue-import/dump/blob/master/html/1618.html\">Raw</a>","closed":true,"closed_at":"2018-11-25T02:11:53Z","created_at":"2018-11-23T04:35:52Z","updated_at":"2018-11-25T02:11:53Z","labels":[]},"comments":[{"body":" <p>Think I figured out the bug. Is this ever triggering incorrectly after the first time you bladestorm? Or is it only wrong before your first bladestorm?</p> <div class=\"project-issue-comment-body-modified\"> </div> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/Cybeloras\">Cybeloras</a>","created_at":"2018-11-24T19:48:01Z"},{"body":" <p>I bladestorm within the first 30 seconds of most any arena match so...I'm gonna guess the first one?</p> <div class=\"project-issue-comment-body-modified\"> </div> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/Jalopyy\">Jalopyy</a>","created_at":"2018-11-24T20:05:38Z"},{"body":" <p>But is it ever wrong after that first bladestorm? Or does it work after that?</p> <div class=\"project-issue-comment-body-modified\"> </div> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/Cybeloras\">Cybeloras</a>","created_at":"2018-11-24T20:22:56Z"},{"body":" <p>Let me add some random shit into the aura and I'll do some skrims to test.</p> <div class=\"project-issue-comment-body-modified\"> </div> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/Jalopyy\">Jalopyy</a>","created_at":"2018-11-24T20:29:47Z"},{"body":" <p><del>I'm fairly positive this aura is only wrong (and also only works) after my first bladestorm. I can't make it proc before a bladestorm</del></p>\r\n<p>&nbsp;</p>\r\n<p>I faced a fire mage/arms warr in skrims and added the following to tracked spells.</p>\r\n<p>&nbsp;</p>\r\n<p>Mortal Strike; Overpower; Slam; Warbreaker; Fireball; Fire Blast; Pyroblast</p>\r\n<p>&nbsp;</p>\r\n<p>It only proc'd off of Warbreaker, and it appeared both before AND after pressing bladestorm once.</p> <div class=\"project-issue-comment-body-modified\"> <hr> <span class=\"e-infoLabel\">Edited</span><span> <abbr class=\"tip standard-date standard-datetime\" title=\"11 24 2018 14:49:30 (CST) (UTC-6:00)\" data-epoch=\"1543092570\">Nov 24, 2018</abbr></span> </div> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/Jalopyy\">Jalopyy</a>","created_at":"2018-11-24T20:45:27Z"},{"body":" <p>To further update:</p>\r\n<p>&nbsp;</p>\r\n<p>1) It the aura is broken before and after a bladestorm</p>\r\n<p>2) When I change the tracked spells from specific things to tracking all spells (blank box) it doesn't track all spells, only some.</p>\r\n<p>3) The spells it DOES track seem to only be spells that require no target (whether they do damage or not). For example, vs an ass/fury warr, I saw the following spells proc the aura:</p>\r\n<p>&nbsp;</p>\r\n<p>Gladiator's Medallion<br>Recklessness</p>\r\n<p>Whirlwind</p>\r\n<p>Dragon Roar</p>\r\n<p>Enraged Regeneration</p>\r\n<p>Evasion</p>\r\n<p>Cloak of Shadows</p>\r\n<p>Crimson Vial</p>\r\n<p>Fan of Knives</p>\r\n<p>&nbsp;</p>\r\n<p>Pretty sure that the aura IS probably tracking what I tell it to, but for some reason it any spell that requires no target will bypass the destination filters entirely. Which would explain why I only ever see it proc off of Leg Sweep, and never anything else.</p> <div class=\"project-issue-comment-body-modified\"> </div> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/Jalopyy\">Jalopyy</a>","created_at":"2018-11-24T21:07:41Z"},{"body":" <p>Oh, yes, that's true. Any event that happens that doesn't have a destination can't be ran against your destination filters because there's nothing to check.</p> <div class=\"project-issue-comment-body-modified\"> </div> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/Cybeloras\">Cybeloras</a>","created_at":"2018-11-24T21:37:53Z"},{"body":" <p>Then its possible this aura has worked properly the whole time since I originally reported it because it kept improperly showing up when during a leg sweep.</p>\r\n<p>&nbsp;</p>\r\n<p>Or is there an actual bug in here you think you've found anyway you still need my help for?</p> <div class=\"project-issue-comment-body-modified\"> </div> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/Jalopyy\">Jalopyy</a>","created_at":"2018-11-24T21:42:15Z"},{"body":" <p>There was one bug that I did fix. Don't need help testing it - it was fairly obvious once I discovered it. It probably wasn't affecting you, but if it was, it would have only been before you cast your very first bladestorm after logging in.</p>\r\n<p>&nbsp;</p>\r\n<p>I might add an option to the combat event icon type to only process events if the icon's conditions are passing. Then you could put your bladestorm condition on the icon itself instead of as a destination condition.</p> <div class=\"project-issue-comment-body-modified\"> </div> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/Cybeloras\">Cybeloras</a>","created_at":"2018-11-24T21:48:53Z"},{"body":" <p>The latter would be nice.&nbsp;</p> <div class=\"project-issue-comment-body-modified\"> </div> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/Jalopyy\">Jalopyy</a>","created_at":"2018-11-24T21:51:27Z"},{"body":" <p>&nbsp;Closing this because my issue cannot be fixed and you've already pushed an alpha version that fixes the bug you found yourself.</p> <div class=\"project-issue-comment-body-modified\"> </div> \n<br>\n\n> Posted by CurseForge user <a href=\"https://wow.curseforge.com/members/Jalopyy\">Jalopyy</a>","created_at":"2018-11-25T02:11:53Z"}]}